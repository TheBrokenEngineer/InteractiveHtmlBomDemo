<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive BOM for KiCAD</title>
  <style type="text/css">
html, body {
  margin: 0px;
  height: 100%;
  font-family: Verdana, sans-serif;
}

button {
  /* Gray */
  background-color: #eee;
  border: 1px solid #888;
  color: black;
  height: 44px;
  width: 44px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 14px;
  font-weight: bolder;
}

button.depressed {
  background-color: #0a0;
  color: white;
}

button:focus {
  outline: 0;
}

button#tb-btn {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAwBQTFRFAAAABQUFCAgICQkJCgoKEBAQFhYWFxcXGxsbHBwcISEhIyMjJCQkKSkpLS0tLi4uMTExNzc3PDw8QEBAQkJCRERERkZGSEhIT09PWlpaW1tbXFxcYGBgaWlpd3d3eXl5enp6f39/gICAgYGBgoKCi4uLjIyMkpKSk5OTlJSUlpaWl5eXmZmZnJycn5+foqKipqamr6+vtLS0uLi4v7+/w8PDyMjIy8vLz8/P1dXV19fX3Nzc5ubm6urq7+/v8fHx9fX1+Pj4////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAdkhsDgAAAQB0Uk5T////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AFP3ByUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAA/klEQVQ4T9WT21bCMBBFB0UQRAWrVEmtDYgtXlC03m8l//9PwyQZSRfSLF/dLzmr2WtyHjqAKIJKBCJgI80rSRsIIlUeUgFBTud0LS9K5YEVorXMnFDJnwWeuULpCW61QqlkJf+mQ8wDLdmYgyUmIeRKloMOB0v464lpxMHCHYozy5yF1yRJ5O23Ez5hb6ApWJhBf3BUb32UhKGep2GBPt7DtV94hgePcPN01T6ltBQ2tohHJ+zub3ZpgBMi/ZN/OSFXxTlc+DuoXssvzDs7HuHw5Hi7drcUCqlHGozwJqUcXb5TIkFMzMUPRnBMBGAzM3vKxCEHQ9ak7fauP+ICTGDKoEYZFYYAAAAASUVORK5CYII=');
  background-position: 5px 5px;
  background-repeat: no-repeat;
}

button#lr-btn {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURQAAABYWFhcXFzIyMjc3Nzw8PD09PUBAQE9PT1ZWVldXV1paWlxcXGFhYWNjY2dnZ2xsbG5ubnFxcXNzc3V1dXZ2dnl5eYCAgIaGhpKSkpOTk5SUlJycnKKioqampqysrLGxsbe3t7+/v8XFxcnJydTU1NbW1tnZ2ebm5u/v7/z8/P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJTAHzkAAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4wLjE51NayZAAAAO5JREFUOE+tk9kSgjAMRatRcakbrogL4q7//30xobFUpOiD56XJ9ExzpzNRiDrwohEV1qLUAeQ0RDVUOno4JJBIZYi0ClKpM4pCGpQKYY/h3giJRYRB90jkAlheQsiXjGfEd6FJEbbcV2W45YIEIP6XoSBIAMIjSABChJySEaE8ZigRCnxmKHtBZOKXDCyEw9k8vnDvEeirz2vYU2UEmUe8BP6HxcgKEoBwhf7GCg4itMZzmHDvz3A6wI6qqgwpWEECEK5whrt/BAnXaYcqnwDQaC/pARZ0nN0IRsiJtcL6SjY14315V3Xa7sr1R3wC/SGCp4FJdscAAAAASUVORK5CYII=');
  background-position: 5px 5px;
  background-repeat: no-repeat;
}

button#bom-btn {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAwBQTFRFAAAAFhYWFxcXQEBAXFxcYGBgkpKSk5OTlJSUn5+fr6+vv7+/z8/P////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQtWgtgAAAQB0Uk5T////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AFP3ByUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAAaElEQVQ4T+3T0QqAIAwF0JlrWub/f+5NcpCIk16Fzosv4+6CjAD2JgYITpJJHIglTwiTT+U9hq6ck68D+9D5Dpg+D2hmp1mhrTpNSdNSHTSz8/9FtVAHjk+WITJhC3qpA2Er1z09f+AGC2MyfYdXtvQAAAAASUVORK5CYII=');
  background-position: 5px 5px;
  background-repeat: no-repeat;
}

.left-most-button {
  border-right: 0;
  border-top-left-radius: 6px;
  border-bottom-left-radius: 6px;
}

.middle-button {
  border-right: 0;
}

.right-most-button {
  border-top-right-radius: 6px;
  border-bottom-right-radius: 6px;
}

.button-container {
  font-size: 0;
}

@media print {
  .hideonprint {
    display: none;
  }
}

canvas {
  cursor: crosshair;
}

canvas:active {
  cursor: grabbing;
}

.fileinfo {
  width: 100%;
  max-width: 1000px;
  border: none;
  padding: 5px;
}

.fileinfo .title {
  font-size: 20pt;
  font-weight: bold;
}

.fileinfo td {
  overflow: hidden;
  white-space: nowrap;
  max-width: 1px;
  width: 50%;
  text-overflow: ellipsis;
}

.bom {
  border-collapse: collapse;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 10pt;
  table-layout: fixed;
  width: 100%;
  margin-top: 1px;
}

.bom th, .bom td {
  border: 1px solid black;
  padding: 5px;
  word-wrap: break-word;
  text-align: center;
}

.bom th {
  background-color: #CCCCCC;
}

.bom tr:nth-child(even) {
  background-color: #f2f2f2;
}

.bom tr {
  transition: background-color 0.2s;
}

.bom tr:hover {
  background-color: #cfc;
}

.bom .numCol {
  width: 25px;
}

.bom .bom-checkbox {
  width: 30px;
}

.bom .Description {
  width: 10%;
}

.bom .Part {
  width: 10%;
}

.bom .Value {
  width: 15%;
}

.bom .Quantity {
  width: 65px;
}

.split {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  overflow-y: auto;
  overflow-x: hidden;
}

.split.split-horizontal, .gutter.gutter-horizontal {
  height: 100%;
  float: left;
}

.gutter {
  background-color: #eee;
  background-repeat: no-repeat;
  background-position: 50%;
}

.gutter.gutter-horizontal {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==');
  cursor: ew-resize;
  width: 5px;
}

.gutter.gutter-vertical {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFAQMAAABo7865AAAABlBMVEVHcEzMzMzyAv2sAAAAAXRSTlMAQObYZgAAABBJREFUeF5jOAMEEAIEEFwAn3kMwcB6I2AAAAAASUVORK5CYII=');
  cursor: ns-resize;
  height: 5px;
}

.searchbox {
  float: left;
  height: 40px;
  margin: 10px 5px;
  padding: 12px 32px;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 18px;
  box-sizing: border-box;
  border: 1px solid #888;
  border-radius: 6px;
  outline: none;
  background-color: #eee;
  transition: background-color 0.2s, border 0.2s;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABNklEQVQ4T8XSMUvDQBQH8P/LElFa/AIZHcTBQSz0I/gFstTBRR2KUC4ldDxw7h0Bl3RRUATxi4iiODgoiLNrbQYp5J6cpJJqomkX33Z37/14d/dIa33MzDuYI4johOI4XhyNRteO46zNYjDzAxE1yBZprVeZ+QbAUhXEGJMA2Ox2u4+fQIa0mPmsCgCgJYQ4t7lfgF0opQYAdv9ABkKI/UnOFCClXKjX61cA1osQY8x9kiRNKeV7IWA3oyhaSdP0FkAtjxhj3hzH2RBCPOf3pzqYHCilfAAX+URm9oMguPzeWSGQvUcMYC8rOBJCHBRdqxTo9/vbRHRqi8bj8XKv1xvODbiuW2u32/bvf0SlDv4XYOY7z/Mavu+nM1+BmQ+NMc0wDF/LprP0DbTWW0T00ul0nn4b7Q87+X4Qmfiq2wAAAABJRU5ErkJggg==');
  background-position: 10px 10px;
  background-repeat: no-repeat;
}

.searchbox::placeholder {
  color: #ccc;
}

.filter {
  width: calc(60% - 10px);
}

.reflookup {
  width: calc(40% - 10px);
}

input[type=text]:focus {
  background-color: white;
  border: 1px solid #333;
}

mark.highlight {
  background-color: #5050ff;
  color: #fff;
  padding: 2px;
  border-radius: 6px;
}

.menubtn {
  background-color: white;
  font-size: 16px;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 20 20'%3E%3Cpath fill='none' d='M0 0h20v20H0V0z'/%3E%3Cpath d='M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z'/%3E%3C/svg%3E%0A");
  background-position: center;
  background-repeat: no-repeat;
}

.menu {
  position: relative;
  display: inline-block;
}

.menu-content {
  display: none;
  position: absolute;
  background-color: white;
  right: 0;
  min-width: 300px;
  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
  z-index: 100;
  padding: 8px;
}

.menu:hover .menu-content {
  display: block;
}

.menu:hover .menubtn {
  background-color: #eee;
}

.menu-label {
  display: inline-block;
  padding: 8px;
  border: 1px solid #ccc;
  border-top: 0;
  width: calc(100% - 18px);
}

.menu-label-top {
  border-top: 1px solid #ccc;
}

.menu-textbox {
  float: left;
  height: 24px;
  margin: 10px 5px;
  padding: 5px 5px;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 14px;
  box-sizing: border-box;
  border: 1px solid #888;
  border-radius: 4px;
  outline: none;
  background-color: #eee;
  transition: background-color 0.2s, border 0.2s;
  width: calc(100% - 10px);
}

#dbg {
  display: none;
}

  </style>
  <script type="text/javascript" >
///////////////////////////////////////////////
/*
  Split.js - v1.3.5
  MIT License
  https://github.com/nathancahill/Split.js
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Split=t()}(this,function(){"use strict";var e=window,t=e.document,n="addEventListener",i="removeEventListener",r="getBoundingClientRect",s=function(){return!1},o=e.attachEvent&&!e[n],a=["","-webkit-","-moz-","-o-"].filter(function(e){var n=t.createElement("div");return n.style.cssText="width:"+e+"calc(9px)",!!n.style.length}).shift()+"calc",l=function(e){return"string"==typeof e||e instanceof String?t.querySelector(e):e};return function(u,c){function z(e,t,n){var i=A(y,t,n);Object.keys(i).forEach(function(t){return e.style[t]=i[t]})}function h(e,t){var n=B(y,t);Object.keys(n).forEach(function(t){return e.style[t]=n[t]})}function f(e){var t=E[this.a],n=E[this.b],i=t.size+n.size;t.size=e/this.size*i,n.size=i-e/this.size*i,z(t.element,t.size,this.aGutterSize),z(n.element,n.size,this.bGutterSize)}function m(e){var t;this.dragging&&((t="touches"in e?e.touches[0][b]-this.start:e[b]-this.start)<=E[this.a].minSize+M+this.aGutterSize?t=E[this.a].minSize+this.aGutterSize:t>=this.size-(E[this.b].minSize+M+this.bGutterSize)&&(t=this.size-(E[this.b].minSize+this.bGutterSize)),f.call(this,t),c.onDrag&&c.onDrag())}function g(){var e=E[this.a].element,t=E[this.b].element;this.size=e[r]()[y]+t[r]()[y]+this.aGutterSize+this.bGutterSize,this.start=e[r]()[G]}function d(){var t=this,n=E[t.a].element,r=E[t.b].element;t.dragging&&c.onDragEnd&&c.onDragEnd(),t.dragging=!1,e[i]("mouseup",t.stop),e[i]("touchend",t.stop),e[i]("touchcancel",t.stop),t.parent[i]("mousemove",t.move),t.parent[i]("touchmove",t.move),delete t.stop,delete t.move,n[i]("selectstart",s),n[i]("dragstart",s),r[i]("selectstart",s),r[i]("dragstart",s),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",t.gutter.style.cursor="",t.parent.style.cursor=""}function S(t){var i=this,r=E[i.a].element,o=E[i.b].element;!i.dragging&&c.onDragStart&&c.onDragStart(),t.preventDefault(),i.dragging=!0,i.move=m.bind(i),i.stop=d.bind(i),e[n]("mouseup",i.stop),e[n]("touchend",i.stop),e[n]("touchcancel",i.stop),i.parent[n]("mousemove",i.move),i.parent[n]("touchmove",i.move),r[n]("selectstart",s),r[n]("dragstart",s),o[n]("selectstart",s),o[n]("dragstart",s),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",i.gutter.style.cursor=j,i.parent.style.cursor=j,g.call(i)}function v(e){e.forEach(function(t,n){if(n>0){var i=F[n-1],r=E[i.a],s=E[i.b];r.size=e[n-1],s.size=t,z(r.element,r.size,i.aGutterSize),z(s.element,s.size,i.bGutterSize)}})}function p(){F.forEach(function(e){e.parent.removeChild(e.gutter),E[e.a].element.style[y]="",E[e.b].element.style[y]=""})}void 0===c&&(c={});var y,b,G,E,w=l(u[0]).parentNode,D=e.getComputedStyle(w).flexDirection,U=c.sizes||u.map(function(){return 100/u.length}),k=void 0!==c.minSize?c.minSize:100,x=Array.isArray(k)?k:u.map(function(){return k}),L=void 0!==c.gutterSize?c.gutterSize:10,M=void 0!==c.snapOffset?c.snapOffset:30,O=c.direction||"horizontal",j=c.cursor||("horizontal"===O?"ew-resize":"ns-resize"),C=c.gutter||function(e,n){var i=t.createElement("div");return i.className="gutter gutter-"+n,i},A=c.elementStyle||function(e,t,n){var i={};return"string"==typeof t||t instanceof String?i[e]=t:i[e]=o?t+"%":a+"("+t+"% - "+n+"px)",i},B=c.gutterStyle||function(e,t){return n={},n[e]=t+"px",n;var n};"horizontal"===O?(y="width","clientWidth",b="clientX",G="left","paddingLeft"):"vertical"===O&&(y="height","clientHeight",b="clientY",G="top","paddingTop");var F=[];return E=u.map(function(e,t){var i,s={element:l(e),size:U[t],minSize:x[t]};if(t>0&&(i={a:t-1,b:t,dragging:!1,isFirst:1===t,isLast:t===u.length-1,direction:O,parent:w},i.aGutterSize=L,i.bGutterSize=L,i.isFirst&&(i.aGutterSize=L/2),i.isLast&&(i.bGutterSize=L/2),"row-reverse"===D||"column-reverse"===D)){var a=i.a;i.a=i.b,i.b=a}if(!o&&t>0){var c=C(t,O);h(c,L),c[n]("mousedown",S.bind(i)),c[n]("touchstart",S.bind(i)),w.insertBefore(c,s.element),i.gutter=c}0===t||t===u.length-1?z(s.element,s.size,L/2):z(s.element,s.size,L);var f=s.element[r]()[y];return f<s.minSize&&(s.minSize=f),t>0&&F.push(i),s}),o?{setSizes:v,destroy:p}:{setSizes:v,getSizes:function(){return E.map(function(e){return e.size})},collapse:function(e){if(e===F.length){var t=F[e-1];g.call(t),o||f.call(t,t.size-t.bGutterSize)}else{var n=F[e];g.call(n),o||f.call(n,n.aGutterSize)}},destroy:p}}});

///////////////////////////////////////////////

///////////////////////////////////////////////
var pcbdata = {"silkscreen": {"B": [{"angle": 90.0, "horiz_justify": 0, "text": "VCC", "pos": [59000000, 55300000], "height": 1000000, "width": 1000000}, {"angle": 0.0, "horiz_justify": 0, "text": "INT", "pos": [71200000, 68200000], "height": 1000000, "width": 1000000}, {"angle": 0.0, "horiz_justify": 0, "text": "SCK", "pos": [68100000, 68200000], "height": 1000000, "width": 1000000}, {"angle": 0.0, "horiz_justify": 0, "text": "SO", "pos": [65600000, 68200000], "height": 1000000, "width": 1000000}, {"angle": 0.0, "horiz_justify": 0, "text": "SI", "pos": [63200000, 68200000], "height": 1000000, "width": 1000000}, {"angle": 0.0, "horiz_justify": 0, "text": "VCC", "pos": [60400000, 68200000], "height": 1000000, "width": 1000000}, {"angle": 0.0, "horiz_justify": 0, "text": "GND", "pos": [57100000, 68200000], "height": 1000000, "width": 1000000}, {"angle": 0.0, "horiz_justify": 0, "text": "3v3", "pos": [64700000, 63800000], "height": 1000000, "width": 1000000}, {"angle": 0.0, "horiz_justify": 0, "text": "TX", "pos": [62100000, 63800000], "height": 1000000, "width": 1000000}, {"angle": 0.0, "horiz_justify": 0, "text": "RX", "pos": [59700000, 63800000], "height": 1000000, "width": 1000000}, {"angle": 0.0, "horiz_justify": 0, "text": "GND", "pos": [57000000, 63800000], "height": 1000000, "width": 1000000}, {"start": [73300000, 40000000], "end": [73300000, 73500000], "type": "segment", "width": 200000}, {"angle": 0.0, "horiz_justify": 0, "text": "D3", "pos": [53750000, 54000000], "height": 1000000, "width": 1000000}, {"start": [52420000, 50740000], "end": [53350000, 50740000], "type": "segment", "width": 120000}, {"start": [55580000, 50740000], "end": [54650000, 50740000], "type": "segment", "width": 120000}, {"start": [55580000, 50740000], "end": [55580000, 52900000], "type": "segment", "width": 120000}, {"start": [52420000, 50740000], "end": [52420000, 52200000], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "J2", "pos": [77070000, 45500000], "height": 1000000, "width": 1000000}, {"start": [79670000, 67210000], "end": [74470000, 67210000], "type": "segment", "width": 120000}, {"start": [79670000, 49370000], "end": [79670000, 67210000], "type": "segment", "width": 120000}, {"start": [74470000, 46770000], "end": [74470000, 67210000], "type": "segment", "width": 120000}, {"start": [79670000, 49370000], "end": [77070000, 49370000], "type": "segment", "width": 120000}, {"start": [77070000, 49370000], "end": [77070000, 46770000], "type": "segment", "width": 120000}, {"start": [77070000, 46770000], "end": [74470000, 46770000], "type": "segment", "width": 120000}, {"start": [79670000, 48100000], "end": [79670000, 46770000], "type": "segment", "width": 120000}, {"start": [79670000, 46770000], "end": [78340000, 46770000], "type": "segment", "width": 120000}, {"angle": 90.0, "horiz_justify": 0, "text": "J3", "pos": [54500000, 66000000], "height": 1000000, "width": 1000000}, {"start": [65950000, 64670000], "end": [65950000, 67330000], "type": "segment", "width": 120000}, {"start": [58270000, 64670000], "end": [65950000, 64670000], "type": "segment", "width": 120000}, {"start": [58270000, 67330000], "end": [65950000, 67330000], "type": "segment", "width": 120000}, {"start": [58270000, 64670000], "end": [58270000, 67330000], "type": "segment", "width": 120000}, {"start": [57000000, 64670000], "end": [55670000, 64670000], "type": "segment", "width": 120000}, {"start": [55670000, 64670000], "end": [55670000, 66000000], "type": "segment", "width": 120000}, {"angle": 90.0, "horiz_justify": 0, "text": "J4", "pos": [55500000, 70500000], "height": 1000000, "width": 1000000}, {"start": [72030000, 69170000], "end": [72030000, 71830000], "type": "segment", "width": 120000}, {"start": [59270000, 69170000], "end": [72030000, 69170000], "type": "segment", "width": 120000}, {"start": [59270000, 71830000], "end": [72030000, 71830000], "type": "segment", "width": 120000}, {"start": [59270000, 69170000], "end": [59270000, 71830000], "type": "segment", "width": 120000}, {"start": [58000000, 69170000], "end": [56670000, 69170000], "type": "segment", "width": 120000}, {"start": [56670000, 69170000], "end": [56670000, 70500000], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "JP2", "pos": [58750000, 49000000], "height": 1000000, "width": 1000000}, {"width": 120000, "endangle": 360.0, "start": [57800000, 50650000], "radius": 700000, "startangle": 270.0, "type": "arc"}, {"width": 120000, "endangle": 270.0, "start": [57200000, 50650000], "radius": 700000, "startangle": 180.0, "type": "arc"}, {"width": 120000, "endangle": 180.0, "start": [57200000, 52050000], "radius": 700000, "startangle": 90.0, "type": "arc"}, {"width": 120000, "endangle": 90.0, "start": [57800000, 52050000], "radius": 700000, "startangle": 0.0, "type": "arc"}, {"start": [57200000, 52750000], "end": [57800000, 52750000], "type": "segment", "width": 120000}, {"start": [56500000, 50650000], "end": [56500000, 52050000], "type": "segment", "width": 120000}, {"start": [57800000, 49950000], "end": [57200000, 49950000], "type": "segment", "width": 120000}, {"start": [58500000, 52050000], "end": [58500000, 50650000], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "R2", "pos": [59750000, 58250000], "height": 1000000, "width": 1000000}, {"start": [56741422, 58710000], "end": [57258578, 58710000], "type": "segment", "width": 120000}, {"start": [56741422, 57290000], "end": [57258578, 57290000], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "R5", "pos": [59750000, 60000000], "height": 1000000, "width": 1000000}, {"start": [57258578, 60710000], "end": [56741422, 60710000], "type": "segment", "width": 120000}, {"start": [57258578, 59290000], "end": [56741422, 59290000], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "R6", "pos": [59750000, 61750000], "height": 1000000, "width": 1000000}, {"start": [57258578, 62710000], "end": [56741422, 62710000], "type": "segment", "width": 120000}, {"start": [57258578, 61290000], "end": [56741422, 61290000], "type": "segment", "width": 120000}, {"angle": 45.0, "horiz_justify": 0, "text": "U1", "pos": [61757359, 51257359], "height": 1000000, "width": 1000000}, {"start": [60965400, 55500000], "end": [61262385, 55796985], "type": "segment", "width": 120000}, {"start": [66000000, 60534600], "end": [65703015, 60237615], "type": "segment", "width": 120000}, {"start": [71034600, 55500000], "end": [70737615, 55203015], "type": "segment", "width": 120000}, {"start": [66000000, 50465400], "end": [65703015, 50762385], "type": "segment", "width": 120000}, {"start": [66000000, 60534600], "end": [66296985, 60237615], "type": "segment", "width": 120000}, {"start": [60965400, 55500000], "end": [61262385, 55203015], "type": "segment", "width": 120000}, {"start": [66296985, 50762385], "end": [67272792, 49786577], "type": "segment", "width": 120000}, {"start": [66000000, 50465400], "end": [66296985, 50762385], "type": "segment", "width": 120000}, {"start": [71034600, 55500000], "end": [70737615, 55796985], "type": "segment", "width": 120000}, {"angle": -45.0, "horiz_justify": 0, "text": "Y1", "pos": [72000000, 52500000], "height": 1000000, "width": 1000000}, {"start": [73121320, 49924264], "end": [72555635, 49358579], "type": "segment", "width": 120000}, {"start": [71424264, 51621320], "end": [72838478, 50207107], "type": "segment", "width": 120000}, {"start": [70858579, 51055635], "end": [71424264, 51621320], "type": "segment", "width": 120000}, {"start": [68878680, 49075736], "end": [69585786, 49782843], "type": "segment", "width": 120000}, {"start": [70292893, 47661522], "end": [68878680, 49075736], "type": "segment", "width": 120000}, {"start": [71282843, 48085786], "end": [70575736, 47378680], "type": "segment", "width": 120000}, {"start": [71282843, 48085786], "end": [71565685, 47802944], "type": "segment", "width": 120000}, {"start": [68737258, 48934315], "end": [70151472, 47520101], "type": "segment", "width": 120000}, {"start": [72838478, 50207107], "end": [73121320, 49924264], "type": "segment", "width": 120000}, {"start": [70292893, 47661522], "end": [70575736, 47378680], "type": "segment", "width": 120000}, {"start": [70151472, 47520101], "end": [70434315, 47237258], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "J5", "pos": [53750000, 55500000], "height": 1000000, "width": 1000000}, {"start": [57830000, 53920000], "end": [57830000, 56580000], "type": "segment", "width": 120000}, {"start": [57770000, 53920000], "end": [57830000, 53920000], "type": "segment", "width": 120000}, {"start": [57770000, 56580000], "end": [57830000, 56580000], "type": "segment", "width": 120000}, {"start": [57770000, 53920000], "end": [57770000, 56580000], "type": "segment", "width": 120000}, {"start": [56500000, 53920000], "end": [55170000, 53920000], "type": "segment", "width": 120000}, {"start": [55170000, 53920000], "end": [55170000, 55250000], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "C1", "pos": [53500000, 45650000], "height": 1000000, "width": 1000000}, {"start": [56135000, 49510000], "end": [51750000, 49510000], "type": "segment", "width": 120000}, {"start": [56135000, 46490000], "end": [56135000, 49510000], "type": "segment", "width": 120000}, {"start": [51750000, 46490000], "end": [56135000, 46490000], "type": "segment", "width": 120000}, {"angle": 90.0, "horiz_justify": 0, "text": "C2", "pos": [69000000, 42000000], "height": 1000000, "width": 1000000}, {"start": [73010000, 41750000], "end": [73010000, 46135000], "type": "segment", "width": 120000}, {"start": [73010000, 46135000], "end": [69990000, 46135000], "type": "segment", "width": 120000}, {"start": [69990000, 46135000], "end": [69990000, 41750000], "type": "segment", "width": 120000}, {"angle": 90.0, "horiz_justify": 0, "text": "RN1", "pos": [71300000, 66000000], "height": 1000000, "width": 1000000}, {"start": [66820000, 65500000], "end": [66820000, 66500000], "type": "segment", "width": 120000}, {"start": [70180000, 65500000], "end": [70180000, 66500000], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "C7", "pos": [60000000, 45750000], "height": 1000000, "width": 1000000}, {"start": [60147778, 43745001], "end": [59822220, 43745001], "type": "segment", "width": 120000}, {"start": [60147778, 44765001], "end": [59822220, 44765001], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "U3", "pos": [65244999, 42725001], "height": 1000000, "width": 1000000}, {"start": [67319999, 43650001], "end": [67319999, 43700001], "type": "segment", "width": 150000}, {"start": [63169999, 43650001], "end": [63169999, 43795001], "type": "segment", "width": 150000}, {"start": [63169999, 48800001], "end": [63169999, 48655001], "type": "segment", "width": 150000}, {"start": [67319999, 48800001], "end": [67319999, 48655001], "type": "segment", "width": 150000}, {"start": [67319999, 43650001], "end": [63169999, 43650001], "type": "segment", "width": 150000}, {"start": [67319999, 48800001], "end": [63169999, 48800001], "type": "segment", "width": 150000}, {"start": [67319999, 43700001], "end": [68719999, 43700001], "type": "segment", "width": 150000}], "F": [{"angle": 90.0, "horiz_justify": 0, "text": "B", "pos": [56250000, 59500000], "height": 1000000, "width": 1000000}, {"angle": 90.0, "horiz_justify": 0, "text": "F", "pos": [56250000, 61000000], "height": 1000000, "width": 1000000}, {"angle": 270.0, "horiz_justify": -1, "text": "HP34401a DMM\nOLED DISPLAY MOD\nBY QU1CK", "pos": [70250000, 40750000], "height": 1000000, "width": 1000000}, {"angle": 90.0, "horiz_justify": 0, "text": "J1", "pos": [52750000, 66250000], "height": 1000000, "width": 1000000}, {"start": [50820000, 63000000], "end": [50820000, 61000000], "type": "segment", "width": 150000}, {"start": [54320000, 56550000], "end": [53845000, 56550000], "type": "segment", "width": 150000}, {"start": [54320000, 64850000], "end": [54320000, 56550000], "type": "segment", "width": 150000}, {"start": [53845000, 64850000], "end": [54320000, 64850000], "type": "segment", "width": 150000}, {"start": [51120000, 56550000], "end": [51595000, 56550000], "type": "segment", "width": 150000}, {"start": [51120000, 64850000], "end": [51120000, 56550000], "type": "segment", "width": 150000}, {"start": [51595000, 64850000], "end": [51120000, 64850000], "type": "segment", "width": 150000}, {"angle": 90.0, "horiz_justify": 0, "text": "C3", "pos": [63250000, 59000000], "height": 1000000, "width": 1000000}, {"start": [64010000, 55837221], "end": [64010000, 56162779], "type": "segment", "width": 120000}, {"start": [62990000, 55837221], "end": [62990000, 56162779], "type": "segment", "width": 120000}, {"angle": 90.0, "horiz_justify": 0, "text": "C4", "pos": [64570000, 59500000], "height": 1000000, "width": 1000000}, {"start": [66510000, 59162779], "end": [66510000, 58837221], "type": "segment", "width": 120000}, {"start": [65490000, 59162779], "end": [65490000, 58837221], "type": "segment", "width": 120000}, {"angle": 90.0, "horiz_justify": 0, "text": "C5", "pos": [67430000, 52000000], "height": 1000000, "width": 1000000}, {"start": [66510000, 51837221], "end": [66510000, 52162779], "type": "segment", "width": 120000}, {"start": [65490000, 51837221], "end": [65490000, 52162779], "type": "segment", "width": 120000}, {"angle": 90.0, "horiz_justify": 0, "text": "C6", "pos": [70000000, 58000000], "height": 1000000, "width": 1000000}, {"start": [67990000, 55837221], "end": [67990000, 56162779], "type": "segment", "width": 120000}, {"start": [69010000, 55837221], "end": [69010000, 56162779], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "D1", "pos": [53000000, 54250000], "height": 1000000, "width": 1000000}, {"start": [54685000, 51540000], "end": [52000000, 51540000], "type": "segment", "width": 120000}, {"start": [54685000, 53460000], "end": [54685000, 51540000], "type": "segment", "width": 120000}, {"start": [52000000, 53460000], "end": [54685000, 53460000], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "D2", "pos": [53000000, 48250000], "height": 1000000, "width": 1000000}, {"start": [52000000, 50960000], "end": [54685000, 50960000], "type": "segment", "width": 120000}, {"start": [54685000, 50960000], "end": [54685000, 49040000], "type": "segment", "width": 120000}, {"start": [54685000, 49040000], "end": [52000000, 49040000], "type": "segment", "width": 120000}, {"angle": 90.0, "horiz_justify": 0, "text": "JP1", "pos": [60500000, 60000000], "height": 1000000, "width": 1000000}, {"start": [59700000, 61450000], "end": [60000000, 61150000], "type": "segment", "width": 120000}, {"start": [60000000, 61750000], "end": [60000000, 61150000], "type": "segment", "width": 120000}, {"start": [59700000, 61450000], "end": [60000000, 61750000], "type": "segment", "width": 120000}, {"start": [58800000, 62300000], "end": [58200000, 62300000], "type": "segment", "width": 120000}, {"start": [59500000, 58850000], "end": [59500000, 61650000], "type": "segment", "width": 120000}, {"start": [58200000, 58200000], "end": [58800000, 58200000], "type": "segment", "width": 120000}, {"start": [57500000, 61650000], "end": [57500000, 58850000], "type": "segment", "width": 120000}, {"width": 120000, "endangle": 270.0, "start": [58200000, 58900000], "radius": 700000, "startangle": 180.0, "type": "arc"}, {"width": 120000, "endangle": 0.0, "start": [58800000, 58900000], "radius": 700000, "startangle": -90.0, "type": "arc"}, {"width": 120000, "endangle": 90.0, "start": [58800000, 61600000], "radius": 700000, "startangle": 0.0, "type": "arc"}, {"width": 120000, "endangle": 180.0, "start": [58200000, 61600000], "radius": 700000, "startangle": 90.0, "type": "arc"}, {"angle": 0.0, "horiz_justify": 0, "text": "R1", "pos": [63250000, 53750000], "height": 1000000, "width": 1000000}, {"start": [65741422, 55210000], "end": [66258578, 55210000], "type": "segment", "width": 120000}, {"start": [65741422, 53790000], "end": [66258578, 53790000], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "R3", "pos": [60500000, 52000000], "height": 1000000, "width": 1000000}, {"start": [56741422, 51790000], "end": [57258578, 51790000], "type": "segment", "width": 120000}, {"start": [56741422, 53210000], "end": [57258578, 53210000], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "R4", "pos": [60500000, 50000000], "height": 1000000, "width": 1000000}, {"start": [56741422, 49290000], "end": [57258578, 49290000], "type": "segment", "width": 120000}, {"start": [56741422, 50710000], "end": [57258578, 50710000], "type": "segment", "width": 120000}, {"angle": 90.0, "horiz_justify": 0, "text": "R7", "pos": [61750000, 57250000], "height": 1000000, "width": 1000000}, {"start": [59290000, 56258578], "end": [59290000, 55741422], "type": "segment", "width": 120000}, {"start": [60710000, 56258578], "end": [60710000, 55741422], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "R8", "pos": [68250000, 59000000], "height": 1000000, "width": 1000000}, {"start": [65741422, 57210000], "end": [66258578, 57210000], "type": "segment", "width": 120000}, {"start": [65741422, 55790000], "end": [66258578, 55790000], "type": "segment", "width": 120000}, {"angle": 0.0, "horiz_justify": 0, "text": "U2", "pos": [64250000, 41500000], "height": 1000000, "width": 1000000}, {"start": [62910000, 47910000], "end": [62910000, 46650000], "type": "segment", "width": 120000}, {"start": [62910000, 41090000], "end": [62910000, 42350000], "type": "segment", "width": 120000}, {"start": [59150000, 47910000], "end": [62910000, 47910000], "type": "segment", "width": 120000}, {"start": [56900000, 41090000], "end": [62910000, 41090000], "type": "segment", "width": 120000}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[376964, -2709982], [433812, -2408430], [853338, -2235488], [1104984, -2406605], [1175458, -2454250], [1239163, -2496790], [1293126, -2532285], [1334373, -2558790], [1359934, -2574364], [1366895, -2577722], [1379435, -2569086], [1406231, -2545208], [1444280, -2509141], [1490579, -2463933], [1542123, -2412636], [1595909, -2358299], [1648935, -2303972], [1698195, -2252705], [1740687, -2207549], [1773407, -2171554], [1793351, -2147770], [1798119, -2139810], [1791257, -2125135], [1772020, -2092986], [1742430, -2046508], [1704510, -1988844], [1660282, -1923140], [1634654, -1885664], [1587941, -1817232], [1546432, -1755480], [1512140, -1703481], [1487080, -1664308], [1473264, -1641035], [1471188, -1636145], [1475895, -1622245], [1488723, -1589850], [1507738, -1543515], [1531003, -1487794], [1556584, -1427242], [1582545, -1366414], [1606950, -1309864], [1627863, -1262148], [1643349, -1227819], [1651472, -1211432], [1651952, -1210788], [1664707, -1207659], [1698677, -1200679], [1750340, -1190533], [1816176, -1177908], [1892664, -1163491], [1937290, -1155177], [2019021, -1139616], [2092843, -1124808], [2155021, -1111564], [2201822, -1100695], [2229509, -1093011], [2235074, -1090573], [2240526, -1074070], [2244924, -1036800], [2248272, -983120], [2250574, -917388], [2251832, -843963], [2252048, -767204], [2251227, -691468], [2249371, -621114], [2246482, -560500], [2242565, -513984], [2237622, -485925], [2234657, -480084], [2216934, -473083], [2179381, -463073], [2126964, -451231], [2064652, -438733], [2042900, -434690], [1938024, -415480], [1855180, -400009], [1791630, -387663], [1744637, -377827], [1711463, -369886], [1689371, -363224], [1675624, -357227], [1667484, -351281], [1666345, -350106], [1654977, -331174], [1637635, -294331], [1616050, -244087], [1591954, -184954], [1567079, -121444], [1543157, -58068], [1521919, 662], [1505097, 50235], [1494422, 86139], [1491627, 103862], [1491860, 104483], [1501331, 118970], [1522818, 150844], [1554063, 196789], [1592807, 253485], [1636793, 317617], [1649319, 335842], [1693984, 401914], [1733288, 462200], [1765088, 513235], [1787245, 551560], [1797617, 573711], [1798119, 576432], [1789405, 590736], [1765325, 619072], [1728976, 658396], [1683453, 705661], [1631852, 757823], [1577267, 811835], [1522794, 864653], [1471529, 913231], [1426567, 954523], [1391004, 985485], [1367935, 1003070], [1361554, 1005941], [1346699, 999178], [1316286, 980939], [1275268, 954297], [1243709, 932852], [1186525, 893503], [1118806, 847171], [1050880, 800913], [1014361, 776155], [890752, 692547], [786991, 748650], [739720, 773228], [699523, 792331], [672326, 803227], [665402, 804743], [657077, 793549], [640654, 761917], [617357, 712765], [588414, 649010], [555050, 573571], [518491, 489364], [479964, 399308], [440694, 306321], [401908, 213320], [364830, 123223], [330689, 38948], [300708, -36587], [276116, -100466], [258136, -149769], [247997, -181579], [246366, -192504], [259291, -206439], [287589, -229060], [325346, -255667], [328515, -257772], [426100, -335886], [504786, -427018], [563891, -528255], [602732, -636682], [620628, -749386], [616897, -863452], [590857, -975966], [541825, -1084015], [527400, -1107655], [452369, -1203113], [363730, -1279768], [264549, -1337220], [157895, -1375071], [46836, -1392922], [-65561, -1390375], [-176227, -1367030], [-282094, -1322490], [-380095, -1256355], [-410410, -1229513], [-487562, -1145488], [-543782, -1057034], [-582347, -957885], [-603826, -859697], [-609128, -749303], [-591448, -638360], [-552581, -530619], [-494323, -429831], [-418469, -339744], [-326817, -264108], [-314772, -256136], [-276611, -230026], [-247601, -207405], [-233732, -192961], [-233531, -192504], [-236508, -176879], [-248311, -141418], [-267714, -89038], [-293488, -22655], [-324409, 54814], [-359249, 140450], [-396783, 231337], [-435783, 324559], [-475023, 417197], [-513276, 506335], [-549317, 589055], [-581917, 662441], [-609852, 723575], [-631895, 769541], [-646818, 797421], [-652828, 804743], [-671191, 799041], [-705552, 783749], [-749984, 761599], [-774417, 748650], [-878178, 692547], [-1001787, 776155], [-1064886, 818987], [-1133970, 866122], [-1198707, 910503], [-1231134, 932852], [-1276741, 963477], [-1315360, 987747], [-1341952, 1002587], [-1350590, 1005724], [-1363161, 997261], [-1390984, 973636], [-1431361, 937302], [-1481595, 890711], [-1538988, 836317], [-1575286, 801392], [-1638790, 738996], [-1693673, 683188], [-1737714, 636354], [-1768695, 600882], [-1784398, 579161], [-1785905, 574752], [-1778914, 557985], [-1759594, 524082], [-1730091, 476476], [-1692545, 418599], [-1649100, 353884], [-1636745, 335842], [-1591727, 270267], [-1551340, 211228], [-1517840, 162042], [-1493486, 126028], [-1480536, 106502], [-1479285, 104483], [-1481156, 88922], [-1491087, 54709], [-1507347, 6355], [-1528205, -51629], [-1551927, -114730], [-1576784, -178437], [-1601042, -238239], [-1622971, -289624], [-1640838, -328081], [-1652913, -349098], [-1653771, -350106], [-1661154, -356112], [-1673625, -362052], [-1693920, -368540], [-1724778, -376191], [-1768934, -385620], [-1829126, -397441], [-1908093, -412271], [-2008570, -430723], [-2030325, -434690], [-2094802, -447147], [-2151011, -459334], [-2193987, -470074], [-2218760, -478191], [-2222082, -480084], [-2227556, -496862], [-2232006, -534355], [-2235428, -588206], [-2237819, -654056], [-2239177, -727547], [-2239499, -804320], [-2238781, -880017], [-2237021, -950280], [-2234216, -1010750], [-2230362, -1057070], [-2225457, -1084881], [-2222500, -1090573], [-2206037, -1096314], [-2168551, -1105655], [-2113775, -1117785], [-2045445, -1131893], [-1967294, -1147170], [-1924716, -1155177], [-1843929, -1170279], [-1771887, -1183960], [-1712111, -1195533], [-1668121, -1204313], [-1643439, -1209613], [-1639377, -1210788], [-1632511, -1224035], [-1617998, -1255943], [-1597771, -1301953], [-1573766, -1357508], [-1547918, -1418047], [-1522160, -1479014], [-1498427, -1535849], [-1478654, -1583994], [-1464776, -1618890], [-1458726, -1635979], [-1458614, -1636726], [-1465472, -1650207], [-1484698, -1681230], [-1514272, -1726711], [-1552173, -1783568], [-1596380, -1848717], [-1622079, -1886138], [-1668907, -1954753], [-1710499, -2017048], [-1744825, -2069871], [-1769857, -2110073], [-1783565, -2134500], [-1785544, -2139976], [-1777034, -2152722], [-1753507, -2179937], [-1717968, -2218572], [-1673423, -2265577], [-1622877, -2317905], [-1569336, -2372505], [-1515805, -2426330], [-1465289, -2476330], [-1420794, -2519457], [-1385325, -2552661], [-1361887, -2572894], [-1354046, -2577722], [-1341280, -2570933], [-1310744, -2551858], [-1265410, -2522439], [-1208244, -2484619], [-1142216, -2440339], [-1092410, -2406605], [-840764, -2235488], [-631001, -2321959], [-421237, -2408430], [-364389, -2709982], [-307540, -3011534], [320115, -3011534], [376964, -2709982]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[1799460, 1458030], [1842711, 1471245], [1870558, 1487941], [1879629, 1501145], [1877132, 1516797], [1860931, 1541385], [1847232, 1558800], [1818992, 1590283], [1797775, 1603529], [1779688, 1602664], [1726035, 1589010], [1686630, 1589630], [1654632, 1605104], [1643890, 1614161], [1609505, 1646027], [1609505, 2062179], [1471188, 2062179], [1471188, 1458614], [1540347, 1458614], [1581869, 1460256], [1603291, 1466087], [1609502, 1477461], [1609505, 1477798], [1612439, 1489713], [1625704, 1488159], [1644084, 1479563], [1682046, 1463568], [1712872, 1453945], [1752536, 1451478], [1799460, 1458030]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[-754012, 1469002], [-722717, 1483950], [-692409, 1505541], [-669318, 1530391], [-652500, 1562087], [-641006, 1604214], [-633891, 1660358], [-630207, 1734106], [-629008, 1829044], [-628989, 1838985], [-628713, 2062179], [-767030, 2062179], [-767030, 1856418], [-767128, 1780189], [-767809, 1724939], [-769651, 1686501], [-773233, 1660706], [-779132, 1643384], [-787927, 1630368], [-800180, 1617507], [-843047, 1589873], [-889843, 1584745], [-934424, 1602217], [-949928, 1615221], [-961310, 1627447], [-969481, 1640540], [-974974, 1658615], [-978320, 1685787], [-980051, 1726170], [-980697, 1783879], [-980792, 1854132], [-980792, 2062179], [-1119109, 2062179], [-1119109, 1458614], [-1049950, 1458614], [-1008428, 1460256], [-987006, 1466087], [-980795, 1477461], [-980792, 1477798], [-977910, 1488938], [-965199, 1487674], [-939926, 1475434], [-882605, 1457424], [-817037, 1455421], [-754012, 1469002]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[2677898, 1456457], [2710096, 1464279], [2771825, 1492921], [2824610, 1536667], [2861141, 1589117], [2866160, 1600893], [2873045, 1631740], [2877864, 1677371], [2879505, 1723492], [2879505, 1810693], [2697178, 1810693], [2621979, 1810978], [2569003, 1812704], [2535325, 1817181], [2518020, 1825720], [2514163, 1839630], [2520829, 1860222], [2532770, 1884315], [2566080, 1924525], [2612368, 1944558], [2668944, 1943905], [2733031, 1922101], [2788417, 1895193], [2834375, 1931532], [2880333, 1967872], [2837096, 2007819], [2779374, 2045563], [2708386, 2068320], [2632029, 2074688], [2558199, 2063268], [2546287, 2059393], [2481399, 2025506], [2433130, 1974986], [2400465, 1906325], [2382385, 1818014], [2382175, 1816121], [2380556, 1719878], [2387100, 1685542], [2514852, 1685542], [2526584, 1690822], [2558438, 1694867], [2605397, 1697176], [2635154, 1697525], [2690648, 1697306], [2725346, 1695916], [2743601, 1692251], [2749766, 1685210], [2748195, 1673690], [2746878, 1669233], [2724382, 1627355], [2689003, 1593604], [2657780, 1578773], [2616301, 1579668], [2574269, 1598164], [2539012, 1628786], [2517854, 1666062], [2514852, 1685542], [2387100, 1685542], [2396690, 1635229], [2428698, 1564191], [2474701, 1508779], [2532821, 1471009], [2601180, 1452896], [2677898, 1456457]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[2217226, 1463880], [2290080, 1494830], [2313027, 1509895], [2342354, 1533048], [2360764, 1551253], [2363961, 1557183], [2354935, 1570340], [2331837, 1592667], [2313344, 1608250], [2262728, 1648926], [2222760, 1615295], [2191874, 1593584], [2161759, 1586090], [2127292, 1587920], [2072561, 1601528], [2034886, 1629772], [2011991, 1675433], [2001597, 1741289], [2001595, 1741331], [2002494, 1814939], [2016463, 1868946], [2044328, 1905716], [2063325, 1918168], [2113776, 1933673], [2167663, 1933683], [2214546, 1918638], [2225644, 1911287], [2253476, 1892511], [2275236, 1889434], [2298704, 1903409], [2324649, 1928510], [2365716, 1970880], [2320121, 2008464], [2249674, 2050882], [2170233, 2071785], [2087215, 2070272], [2032694, 2056411], [1968970, 2022135], [1918005, 1968212], [1894851, 1930149], [1876099, 1875536], [1866715, 1806369], [1866643, 1731407], [1875824, 1659409], [1894199, 1599137], [1897093, 1592958], [1939952, 1532351], [1997979, 1488224], [2066591, 1461493], [2141201, 1453073], [2217226, 1463880]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[993367, 1654342], [994555, 1746563], [998897, 1816610], [1007558, 1867381], [1021704, 1901772], [1042500, 1922679], [1071110, 1933000], [1106535, 1935636], [1143636, 1932682], [1171818, 1921889], [1192243, 1900360], [1206079, 1865199], [1214491, 1813510], [1218643, 1742394], [1219703, 1654342], [1219703, 1458614], [1358020, 1458614], [1358020, 2062179], [1288862, 2062179], [1247170, 2060489], [1225701, 2054556], [1219703, 2043293], [1216091, 2033261], [1201714, 2035383], [1172736, 2049580], [1106319, 2071480], [1035875, 2069928], [968377, 2046147], [936233, 2027362], [911715, 2007022], [893804, 1981573], [881479, 1947458], [873723, 1901121], [869516, 1839007], [867840, 1757561], [867624, 1694578], [867624, 1458614], [993367, 1458614], [993367, 1654342]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[610762, 1466055], [674363, 1500692], [724123, 1555372], [747568, 1599842], [757634, 1639121], [764156, 1695116], [766951, 1759621], [765836, 1824429], [760626, 1881334], [754541, 1911727], [734014, 1953306], [698463, 1997468], [655619, 2036087], [613211, 2061034], [612177, 2061430], [559553, 2072331], [497188, 2072601], [437924, 2062676], [415040, 2054722], [356102, 2021300], [313890, 1977511], [286156, 1919538], [270651, 1843565], [267143, 1803771], [267590, 1753766], [402376, 1753766], [406917, 1826732], [419986, 1882334], [440756, 1917861], [455552, 1928020], [493464, 1935104], [538527, 1933007], [577487, 1922812], [587704, 1917204], [614659, 1884538], [632451, 1834545], [640024, 1773705], [636325, 1708497], [628057, 1669253], [604320, 1623805], [566849, 1595396], [521720, 1585573], [475011, 1595887], [439132, 1621112], [420277, 1641925], [409272, 1662439], [404026, 1690203], [402449, 1732762], [402376, 1753766], [267590, 1753766], [268094, 1697580], [285388, 1610501], [319029, 1542530], [369018, 1493664], [435356, 1463899], [449601, 1460448], [535210, 1452345], [610762, 1466055]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[14017, 1456452], [61634, 1465482], [111034, 1484370], [116312, 1486777], [153774, 1506476], [179717, 1524781], [188103, 1536508], [180117, 1555632], [160720, 1583850], [152110, 1594384], [116628, 1635847], [70885, 1608858], [27350, 1590878], [-22950, 1581267], [-71188, 1580660], [-108533, 1589691], [-117495, 1595327], [-134563, 1621171], [-136637, 1650941], [-123866, 1674197], [-116312, 1678708], [-93675, 1684309], [-53885, 1690892], [-4834, 1697183], [4215, 1698170], [82996, 1711798], [140136, 1734946], [178030, 1769752], [199079, 1818354], [205635, 1877718], [196577, 1945198], [167164, 1998188], [117278, 2036783], [46800, 2061081], [-31435, 2070667], [-95234, 2070552], [-146984, 2061845], [-182327, 2049825], [-226983, 2028880], [-268253, 2004574], [-282921, 1993876], [-320643, 1963084], [-275148, 1917049], [-229653, 1871013], [-177928, 1905243], [-126048, 1930952], [-70649, 1944399], [-17395, 1945818], [28049, 1935443], [60016, 1913507], [70338, 1894998], [68789, 1865314], [43140, 1842615], [-6540, 1826940], [-60969, 1819695], [-144736, 1805873], [-206967, 1779796], [-248493, 1740699], [-270147, 1687820], [-273147, 1625126], [-258329, 1559642], [-224546, 1510144], [-171495, 1476408], [-98874, 1458207], [-45072, 1454639], [14017, 1456452]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[-1356699, 1472614], [-1344168, 1478514], [-1300799, 1510283], [-1259790, 1556646], [-1229168, 1607696], [-1220459, 1631166], [-1212512, 1673091], [-1207774, 1723757], [-1207199, 1744679], [-1207129, 1810693], [-1587083, 1810693], [-1578983, 1845273], [-1559104, 1886170], [-1524347, 1921514], [-1482998, 1944282], [-1456649, 1949010], [-1420916, 1943273], [-1378282, 1928882], [-1363799, 1922262], [-1310240, 1895513], [-1264533, 1930376], [-1238158, 1953955], [-1224124, 1973417], [-1223414, 1979129], [-1235951, 1992973], [-1263428, 2014012], [-1288366, 2030425], [-1355664, 2059930], [-1431110, 2073284], [-1505888, 2069812], [-1565495, 2051663], [-1626941, 2012784], [-1670608, 1961595], [-1697926, 1895367], [-1710322, 1811371], [-1711421, 1772936], [-1707022, 1684861], [-1706482, 1682299], [-1580582, 1682299], [-1577115, 1690558], [-1562863, 1695113], [-1533470, 1697065], [-1484575, 1697517], [-1465748, 1697525], [-1408467, 1696843], [-1372141, 1694364], [-1352604, 1689443], [-1345690, 1681434], [-1345445, 1678862], [-1353336, 1658423], [-1373085, 1629789], [-1381575, 1619763], [-1413094, 1591408], [-1445949, 1580259], [-1463651, 1579327], [-1511539, 1590981], [-1551699, 1622285], [-1577173, 1667752], [-1577625, 1669233], [-1580582, 1682299], [-1706482, 1682299], [-1692392, 1615510], [-1666038, 1560025], [-1633807, 1520639], [-1574217, 1477931], [-1504168, 1455109], [-1429661, 1453046], [-1356699, 1472614]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[-2538261, 1465148], [-2472479, 1494231], [-2422540, 1542793], [-2388374, 1610908], [-2369907, 1698651], [-2368583, 1712351], [-2367546, 1808939], [-2380993, 1893602], [-2408108, 1962221], [-2422627, 1984294], [-2473201, 2031011], [-2537609, 2061268], [-2609666, 2073824], [-2683185, 2067439], [-2739072, 2047772], [-2787132, 2014629], [-2826412, 1971175], [-2827092, 1970158], [-2843044, 1943338], [-2853410, 1916368], [-2859688, 1882332], [-2863373, 1834310], [-2864997, 1794931], [-2865672, 1759219], [-2739955, 1759219], [-2738726, 1794770], [-2734266, 1842094], [-2726397, 1872465], [-2712207, 1894072], [-2698917, 1906694], [-2651802, 1933122], [-2602505, 1936653], [-2556593, 1917639], [-2533638, 1896331], [-2517096, 1874859], [-2507421, 1854313], [-2503174, 1827574], [-2502920, 1787523], [-2504228, 1750638], [-2507043, 1697947], [-2511505, 1663772], [-2519548, 1641480], [-2533103, 1624442], [-2543845, 1614703], [-2588777, 1589123], [-2637249, 1587847], [-2677894, 1602999], [-2712567, 1634642], [-2733224, 1686620], [-2739955, 1759219], [-2865672, 1759219], [-2866479, 1716621], [-2863948, 1658056], [-2856362, 1614007], [-2842681, 1579248], [-2821865, 1548551], [-2814147, 1539436], [-2765889, 1494021], [-2714128, 1467493], [-2650828, 1456379], [-2619961, 1455471], [-2538261, 1465148]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[2032581, 2404970], [2092685, 2420597], [2143021, 2452848], [2167393, 2476940], [2207345, 2533895], [2230242, 2599965], [2238108, 2681182], [2238148, 2687748], [2238218, 2753763], [1858264, 2753763], [1866363, 2788342], [1880987, 2819659], [1906581, 2852291], [1911935, 2857500], [1957943, 2885694], [2010410, 2890475], [2070803, 2871926], [2081040, 2866931], [2112439, 2851745], [2133470, 2843094], [2137139, 2842293], [2149948, 2850063], [2174378, 2869072], [2186779, 2879460], [2212476, 2903321], [2220915, 2919077], [2215058, 2933571], [2211928, 2937534], [2190725, 2954879], [2155738, 2975959], [2131337, 2988265], [2062072, 3009946], [1985388, 3016971], [1912765, 3008647], [1892426, 3002686], [1829476, 2968952], [1782815, 2917045], [1752173, 2846459], [1737282, 2756692], [1735647, 2709753], [1740421, 2641413], [1860990, 2641413], [1872652, 2646465], [1903998, 2650429], [1949571, 2652768], [1980446, 2653169], [2035981, 2652783], [2071033, 2650975], [2090262, 2646773], [2098330, 2639203], [2099901, 2628218], [2089121, 2594381], [2061980, 2560940], [2026277, 2535272], [1990560, 2524772], [1942048, 2534086], [1900053, 2561013], [1870936, 2599827], [1860990, 2641413], [1740421, 2641413], [1742599, 2610236], [1764055, 2530949], [1800470, 2471263], [1852297, 2430549], [1919990, 2408179], [1956662, 2403871], [2032581, 2404970]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[1635255, 2401486], [1683595, 2411015], [1711114, 2425125], [1740064, 2448568], [1698876, 2500571], [1673482, 2532064], [1656238, 2547428], [1639102, 2549776], [1614027, 2542217], [1602257, 2537941], [1554270, 2531631], [1510324, 2545156], [1478060, 2575710], [1472819, 2585452], [1467112, 2611258], [1462706, 2658817], [1459811, 2724758], [1458631, 2805710], [1458614, 2817226], [1458614, 3017822], [1320297, 3017822], [1320297, 2401683], [1389456, 2401683], [1429333, 2402725], [1450107, 2407358], [1457789, 2417849], [1458614, 2427745], [1458614, 2453806], [1491745, 2427745], [1529735, 2409965], [1580770, 2401174], [1635255, 2401486]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[1038411, 2405417], [1091411, 2418290], [1106731, 2425110], [1136428, 2442974], [1159220, 2463093], [1176083, 2488962], [1187998, 2524073], [1195942, 2571920], [1200894, 2635996], [1203831, 2719794], [1204947, 2775768], [1209052, 3017822], [1138932, 3017822], [1096393, 3016038], [1074476, 3009942], [1068812, 2999706], [1065821, 2988637], [1052451, 2990754], [1034233, 2999629], [988624, 3013233], [930007, 3016899], [868354, 3010903], [813638, 2995521], [808730, 2993386], [758723, 2958255], [725756, 2909419], [710587, 2852333], [711746, 2831824], [835508, 2831824], [846413, 2859425], [878745, 2879204], [930910, 2889819], [958787, 2891228], [1005247, 2887620], [1036129, 2873597], [1043664, 2866931], [1064076, 2830666], [1068812, 2797773], [1068812, 2753763], [1007513, 2753763], [936256, 2757395], [886276, 2768818], [854696, 2788824], [847626, 2797743], [835508, 2831824], [711746, 2831824], [713971, 2792456], [736663, 2735244], [767624, 2696580], [786376, 2679864], [804733, 2668878], [828619, 2662180], [863957, 2658326], [916669, 2655873], [937577, 2655168], [1068812, 2650879], [1068620, 2611158], [1063537, 2569405], [1045162, 2544158], [1008039, 2528030], [1007043, 2527742], [954410, 2521400], [902906, 2529684], [864630, 2549827], [849272, 2559773], [832730, 2558397], [807275, 2543987], [792328, 2533817], [763091, 2512088], [744980, 2495800], [742074, 2491137], [754040, 2467005], [789396, 2438185], [804753, 2428461], [848901, 2411714], [908398, 2402227], [974487, 2400095], [1038411, 2405417]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[281524, 2404237], [331255, 2407971], [461291, 2797773], [481678, 2728614], [493946, 2685874], [510085, 2628115], [527512, 2564625], [536726, 2530570], [571388, 2401683], [714391, 2401683], [671646, 2536857], [650596, 2603342], [625167, 2683539], [598610, 2767193], [574902, 2841782], [520902, 3011535], [462598, 3015328], [404295, 3019122], [372679, 2914734], [353182, 2849889], [331904, 2778400], [313308, 2715263], [312574, 2712750], [298684, 2669969], [286429, 2640779], [277846, 2629741], [276082, 2631018], [269891, 2648130], [258128, 2684787], [242225, 2736378], [223614, 2798294], [213543, 2832352], [159007, 3017822], [43264, 3017822], [-49263, 2725471], [-75256, 2643462], [-98934, 2568987], [-119180, 2505544], [-134874, 2456632], [-144898, 2425749], [-147945, 2416726], [-145533, 2407487], [-126592, 2403441], [-87177, 2403846], [-81007, 2404152], [-7914, 2407971], [39957, 2584010], [57553, 2648211], [73277, 2704649], [85746, 2748422], [93574, 2774630], [95020, 2778903], [101014, 2773990], [113101, 2748532], [129893, 2705997], [150003, 2649850], [167003, 2599130], [231794, 2400504], [281524, 2404237]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[-201188, 3017822], [-270346, 3017822], [-310488, 3016645], [-331394, 3011772], [-338922, 3001186], [-339505, 2994029], [-340774, 2979676], [-348779, 2976923], [-369815, 2985771], [-386173, 2994029], [-448977, 3013597], [-517248, 3014729], [-572752, 3000135], [-624438, 2964877], [-663838, 2912835], [-685413, 2851450], [-685962, 2848018], [-689167, 2810571], [-690761, 2756813], [-690633, 2716155], [-553279, 2716155], [-550097, 2770194], [-542859, 2814735], [-533060, 2839888], [-495989, 2874260], [-451974, 2886582], [-406584, 2876618], [-367797, 2846895], [-353108, 2826905], [-344519, 2803050], [-340496, 2768230], [-339505, 2715930], [-341278, 2664139], [-345963, 2618634], [-352603, 2588181], [-353710, 2585452], [-380491, 2553000], [-419579, 2535183], [-463315, 2532306], [-504038, 2544674], [-534087, 2572593], [-537204, 2578148], [-546961, 2612022], [-552277, 2660728], [-553279, 2716155], [-690633, 2716155], [-690568, 2695540], [-689664, 2662563], [-683514, 2580981], [-670733, 2519730], [-649471, 2474449], [-617878, 2440779], [-587207, 2421014], [-544354, 2407120], [-491056, 2402354], [-436480, 2406236], [-389792, 2418282], [-365124, 2432693], [-339505, 2455878], [-339505, 2162773], [-201188, 2162773], [-201188, 3017822]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[-993356, 2403020], [-974539, 2408660], [-968473, 2421053], [-968218, 2426647], [-967129, 2442230], [-959632, 2444676], [-939381, 2433993], [-927351, 2426694], [-889400, 2411063], [-844072, 2403334], [-796544, 2402740], [-751995, 2408513], [-715602, 2419884], [-692543, 2436088], [-687996, 2456355], [-690291, 2461843], [-707020, 2484626], [-732963, 2512647], [-737655, 2517177], [-762383, 2538005], [-783718, 2544735], [-813555, 2540038], [-825508, 2536917], [-862705, 2529421], [-888859, 2532792], [-910946, 2544681], [-931178, 2560635], [-946079, 2580700], [-956434, 2608702], [-963029, 2648467], [-966649, 2703823], [-968078, 2778594], [-968218, 2823740], [-968218, 3017822], [-1093960, 3017822], [-1093960, 2401683], [-1031089, 2401683], [-993356, 2403020]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[-1384210, 2406555], [-1325055, 2422339], [-1280023, 2450948], [-1248246, 2488419], [-1238366, 2504411], [-1231073, 2521163], [-1225974, 2542592], [-1222679, 2572616], [-1220797, 2615154], [-1219937, 2674122], [-1219707, 2753440], [-1219703, 2774484], [-1219703, 3017822], [-1280059, 3017822], [-1318557, 3015126], [-1347023, 3008295], [-1354155, 3004083], [-1373652, 2996813], [-1393566, 3004083], [-1426353, 3013160], [-1473978, 3016813], [-1526764, 3015228], [-1575036, 3008589], [-1603218, 3000072], [-1657753, 2965063], [-1691835, 2916479], [-1707157, 2851882], [-1707299, 2850223], [-1705955, 2821566], [-1584356, 2821566], [-1573726, 2854161], [-1556410, 2872505], [-1521652, 2886379], [-1475773, 2891917], [-1428988, 2889191], [-1391514, 2878274], [-1381015, 2871269], [-1362668, 2838904], [-1358020, 2802111], [-1358020, 2753763], [-1427582, 2753763], [-1493667, 2758850], [-1543764, 2773263], [-1574929, 2795729], [-1584356, 2821566], [-1705955, 2821566], [-1703987, 2779647], [-1680710, 2723845], [-1636948, 2681647], [-1630899, 2677808], [-1604907, 2665309], [-1572735, 2657740], [-1527760, 2654061], [-1474331, 2653216], [-1358020, 2653169], [-1358020, 2604411], [-1362953, 2566581], [-1375543, 2541236], [-1377017, 2539887], [-1405034, 2528800], [-1447326, 2524503], [-1494064, 2526615], [-1535418, 2534756], [-1559957, 2546965], [-1573253, 2556746], [-1587294, 2558613], [-1606671, 2550600], [-1635976, 2530739], [-1679803, 2497063], [-1683825, 2493909], [-1681764, 2482236], [-1664568, 2462822], [-1638433, 2441248], [-1609552, 2423096], [-1600478, 2418809], [-1567380, 2410256], [-1518880, 2404155], [-1464695, 2401708], [-1462161, 2401703], [-1384210, 2406555]]]}, {"angle": 0.0, "type": "polygon", "pos": [69500000, 65000000], "polygons": [[[-1908759, 1469184], [-1882247, 1482282], [-1849553, 1505106], [-1825725, 1529996], [-1809406, 1561249], [-1799240, 1603166], [-1793872, 1660044], [-1791944, 1736184], [-1791831, 1768917], [-1792161, 1840656], [-1793527, 1891927], [-1796500, 1927404], [-1801649, 1951763], [-1809543, 1969680], [-1817757, 1981902], [-1870187, 2033905], [-1931930, 2065184], [-1998536, 2074592], [-2065558, 2060980], [-2086792, 2051354], [-2137624, 2024859], [-2137624, 2440052], [-2100525, 2420868], [-2051643, 2406025], [-1991561, 2402222], [-1931564, 2409243], [-1886256, 2425013], [-1848675, 2455047], [-1816564, 2498024], [-1814150, 2502436], [-1803967, 2523221], [-1796530, 2544170], [-1791411, 2569548], [-1788181, 2603618], [-1786413, 2650641], [-1785677, 2714882], [-1785544, 2787176], [-1785544, 3017822], [-1923861, 3017822], [-1923861, 2592533], [-1962549, 2559979], [-2002738, 2533940], [-2040797, 2529205], [-2079066, 2541389], [-2099462, 2553320], [-2114642, 2570313], [-2125438, 2595995], [-2132683, 2633991], [-2137208, 2687926], [-2139844, 2761425], [-2140772, 2810347], [-2143911, 3011535], [-2209926, 3015336], [-2275940, 3019136], [-2275940, 1770650], [-2137624, 1770650], [-2134097, 1840254], [-2122215, 1888569], [-2100020, 1918631], [-2065559, 1933471], [-2030742, 1936436], [-1991329, 1933028], [-1965171, 1919617], [-1948814, 1901896], [-1935937, 1882835], [-1928272, 1861601], [-1924861, 1831849], [-1924749, 1787236], [-1925897, 1749880], [-1928532, 1693604], [-1932456, 1656658], [-1939063, 1633223], [-1949749, 1617480], [-1959833, 1608380], [-2001970, 1588537], [-2051840, 1585332], [-2080476, 1592168], [-2108828, 1616464], [-2127609, 1663728], [-2136712, 1733624], [-2137624, 1770650], [-2275940, 1770650], [-2275940, 1458614], [-2206782, 1458614], [-2165260, 1460256], [-2143838, 1466087], [-2137626, 1477461], [-2137624, 1477798], [-2134742, 1488938], [-2122030, 1487673], [-2096757, 1475433], [-2037869, 1456707], [-1971615, 1454739], [-1908759, 1469184]]]}]}, "edges": [{"start": [50000000, 73500000], "end": [50000000, 40000000], "type": "segment", "width": 150000}, {"start": [80000000, 73500000], "end": [50000000, 73500000], "type": "segment", "width": 150000}, {"start": [80000000, 40000000], "end": [80000000, 73500000], "type": "segment", "width": 150000}, {"start": [50000000, 40000000], "end": [80000000, 40000000], "type": "segment", "width": 150000}], "modules": {"U1": {"layer": "B", "center": [66000000, 55500000], "pads": [{"layers": ["B"], "angle": -225.0, "pos": [67131371, 50479542], "shape": "rect", "pin1": true, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [67484924, 50833095], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [67838478, 51186649], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [68192031, 51540202], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [68545584, 51893755], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [68899138, 52247309], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [69252691, 52600862], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [69606245, 52954416], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [69959798, 53307969], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [70313351, 53661522], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [70666905, 54015076], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [71020458, 54368629], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [71020458, 56631371], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [70666905, 56984924], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [70313351, 57338478], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [69959798, 57692031], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [69606245, 58045584], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [69252691, 58399138], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [68899138, 58752691], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [68545584, 59106245], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [68192031, 59459798], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [67838478, 59813351], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [67484924, 60166905], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [67131371, 60520458], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [64868629, 60520458], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [64515076, 60166905], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [64161522, 59813351], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [63807969, 59459798], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [63454416, 59106245], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [63100862, 58752691], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [62747309, 58399138], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [62393755, 58045584], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [62040202, 57692031], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [61686649, 57338478], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [61333095, 56984924], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -225.0, "pos": [60979542, 56631371], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [60979542, 54368629], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [61333095, 54015076], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [61686649, 53661522], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [62040202, 53307969], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [62393755, 52954416], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [62747309, 52600862], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [63100862, 52247309], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [63454416, 51893755], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [63807969, 51540202], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [64161522, 51186649], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [64515076, 50833095], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}, {"layers": ["B"], "angle": -135.0, "pos": [64868629, 50479542], "shape": "rect", "pin1": false, "type": "smd", "size": [1300000, 250000]}], "drawings": [], "ref": "U1", "bbox": {"pos": [60049444, 49549444], "size": [11901112, 11901112]}}, "U3": {"layer": "B", "center": [65244999, 46225001], "pads": [{"layers": ["B"], "angle": -180.0, "pos": [67944999, 44320001], "shape": "rect", "pin1": true, "type": "smd", "size": [1550000, 600000]}, {"layers": ["B"], "angle": -180.0, "pos": [67944999, 45590001], "shape": "rect", "pin1": false, "type": "smd", "size": [1550000, 600000]}, {"layers": ["B"], "angle": -180.0, "pos": [67944999, 46860001], "shape": "rect", "pin1": false, "type": "smd", "size": [1550000, 600000]}, {"layers": ["B"], "angle": -180.0, "pos": [67944999, 48130001], "shape": "rect", "pin1": false, "type": "smd", "size": [1550000, 600000]}, {"layers": ["B"], "angle": -180.0, "pos": [62544999, 48130001], "shape": "rect", "pin1": false, "type": "smd", "size": [1550000, 600000]}, {"layers": ["B"], "angle": -180.0, "pos": [62544999, 46860001], "shape": "rect", "pin1": false, "type": "smd", "size": [1550000, 600000]}, {"layers": ["B"], "angle": -180.0, "pos": [62544999, 45590001], "shape": "rect", "pin1": false, "type": "smd", "size": [1550000, 600000]}, {"layers": ["B"], "angle": -180.0, "pos": [62544999, 44320001], "shape": "rect", "pin1": false, "type": "smd", "size": [1550000, 600000]}], "drawings": [], "ref": "U3", "bbox": {"pos": [61489998, 43500000], "size": [7510002, 5450002]}}, "U2": {"layer": "F", "center": [61000000, 44500000], "pads": [{"layers": ["F"], "angle": -0.0, "pos": [64150000, 44500000], "shape": "rect", "pin1": false, "type": "smd", "size": [2000000, 3800000]}, {"layers": ["F"], "angle": -0.0, "pos": [57850000, 44500000], "shape": "rect", "pin1": false, "type": "smd", "size": [2000000, 1500000]}, {"layers": ["F"], "angle": -0.0, "pos": [57850000, 46800000], "shape": "rect", "pin1": false, "type": "smd", "size": [2000000, 1500000]}, {"layers": ["F"], "angle": -0.0, "pos": [57850000, 42200000], "shape": "rect", "pin1": true, "type": "smd", "size": [2000000, 1500000]}], "drawings": [], "ref": "U2", "bbox": {"pos": [56574999, 40874999], "size": [8850002, 7250002]}}, "JP1": {"layer": "F", "center": [58500000, 60250000], "pads": [{"layers": ["F"], "angle": -90.0, "pos": [58500000, 61550000], "shape": "custom", "pin1": true, "type": "smd", "polygons": [[[550000, 750000], [0, 750000], [0, 747592], [-49009, 747592], [-145142, 728470], [-235698, 690961], [-317197, 636505], [-386505, 567197], [-440961, 485698], [-478470, 395142], [-497592, 299009], [-497592, 250000], [-500000, 250000], [-500000, -250000], [-497592, -250000], [-497592, -299009], [-478470, -395142], [-440961, -485698], [-386505, -567197], [-317197, -636505], [-235698, -690961], [-145142, -728470], [-49009, -747592], [0, -747592], [0, -750000], [550000, -750000]]], "size": [1000000, 500000]}, {"layers": ["F"], "angle": -90.0, "pos": [58500000, 58950000], "shape": "custom", "pin1": false, "type": "smd", "polygons": [[[0, -747592], [49009, -747592], [145142, -728470], [235698, -690961], [317197, -636505], [386505, -567197], [440961, -485698], [478470, -395142], [497592, -299009], [497592, -250000], [500000, -250000], [500000, 250000], [497592, 250000], [497592, 299009], [478470, 395142], [440961, 485698], [386505, 567197], [317197, 636505], [235698, 690961], [145142, 728470], [49009, 747592], [0, 747592], [0, 750000], [-550000, 750000], [-550000, -750000], [0, -750000]]], "size": [1000000, 500000]}, {"layers": ["F"], "angle": -90.0, "pos": [58500000, 60250000], "shape": "rect", "pin1": false, "type": "smd", "size": [1000000, 1500000]}], "drawings": [], "ref": "JP1", "bbox": {"pos": [57224999, 57924999], "size": [2835002, 4650002]}}, "RN1": {"layer": "B", "center": [68500000, 66000000], "pads": [{"layers": ["B"], "angle": -90.0, "pos": [69700000, 66900000], "shape": "rect", "pin1": true, "type": "smd", "size": [800000, 500000]}, {"layers": ["B"], "angle": -90.0, "pos": [68100000, 66900000], "shape": "rect", "pin1": false, "type": "smd", "size": [800000, 400000]}, {"layers": ["B"], "angle": -90.0, "pos": [68900000, 66900000], "shape": "rect", "pin1": false, "type": "smd", "size": [800000, 400000]}, {"layers": ["B"], "angle": -90.0, "pos": [67300000, 66900000], "shape": "rect", "pin1": false, "type": "smd", "size": [800000, 500000]}, {"layers": ["B"], "angle": -90.0, "pos": [68900000, 65100000], "shape": "rect", "pin1": false, "type": "smd", "size": [800000, 400000]}, {"layers": ["B"], "angle": -90.0, "pos": [69700000, 65100000], "shape": "rect", "pin1": false, "type": "smd", "size": [800000, 500000]}, {"layers": ["B"], "angle": -90.0, "pos": [68100000, 65100000], "shape": "rect", "pin1": false, "type": "smd", "size": [800000, 400000]}, {"layers": ["B"], "angle": -90.0, "pos": [67300000, 65100000], "shape": "rect", "pin1": false, "type": "smd", "size": [800000, 500000]}], "drawings": [], "ref": "RN1", "bbox": {"pos": [66624999, 64424999], "size": [3750002, 3150002]}}, "JP2": {"layer": "B", "center": [57500000, 51350000], "pads": [{"layers": ["B"], "angle": -90.0, "pos": [57500000, 52000000], "shape": "custom", "pin1": true, "type": "smd", "polygons": [[[500000, 750000], [0, 750000], [0, 747592], [-49009, 747592], [-145142, 728470], [-235698, 690961], [-317197, 636505], [-386505, 567197], [-440961, 485698], [-478470, 395142], [-497592, 299009], [-497592, 250000], [-500000, 250000], [-500000, -250000], [-497592, -250000], [-497592, -299009], [-478470, -395142], [-440961, -485698], [-386505, -567197], [-317197, -636505], [-235698, -690961], [-145142, -728470], [-49009, -747592], [0, -747592], [0, -750000], [500000, -750000]]], "size": [1000000, 500000]}, {"layers": ["B"], "angle": -90.0, "pos": [57500000, 50700000], "shape": "custom", "pin1": false, "type": "smd", "polygons": [[[0, -747592], [49009, -747592], [145142, -728470], [235698, -690961], [317197, -636505], [386505, -567197], [440961, -485698], [478470, -395142], [497592, -299009], [497592, -250000], [500000, -250000], [500000, 250000], [497592, 250000], [497592, 299009], [478470, 395142], [440961, 485698], [386505, 567197], [317197, 636505], [235698, 690961], [145142, 728470], [49009, 747592], [0, 747592], [0, 750000], [-500000, 750000], [-500000, -750000], [0, -750000]]], "size": [1000000, 500000]}], "drawings": [], "ref": "JP2", "bbox": {"pos": [56224999, 49674999], "size": [2550002, 3350002]}}, "C7": {"layer": "B", "center": [59984999, 44255001], "pads": [{"layers": ["B"], "angle": -180.0, "pos": [60772499, 44255001], "shape": "roundrect", "radius": 218750, "pin1": true, "type": "smd", "size": [875000, 950000]}, {"layers": ["B"], "angle": -180.0, "pos": [59197499, 44255001], "shape": "roundrect", "radius": 218750, "pin1": false, "type": "smd", "size": [875000, 950000]}], "drawings": [], "ref": "C7", "bbox": {"pos": [58479998, 43500000], "size": [3010002, 1510002]}}, "C3": {"layer": "F", "center": [63500000, 56000000], "pads": [{"layers": ["F"], "angle": -270.0, "pos": [63500000, 55212500], "shape": "roundrect", "radius": 218750, "pin1": true, "type": "smd", "size": [875000, 950000]}, {"layers": ["F"], "angle": -270.0, "pos": [63500000, 56787500], "shape": "roundrect", "radius": 218750, "pin1": false, "type": "smd", "size": [875000, 950000]}], "drawings": [], "ref": "C3", "bbox": {"pos": [62744999, 54494999], "size": [1510002, 3010002]}}, "C2": {"layer": "B", "center": [71500000, 43500000], "pads": [{"layers": ["B"], "angle": -90.0, "pos": [71500000, 45125000], "shape": "roundrect", "radius": 250000, "pin1": true, "type": "smd", "size": [1500000, 2350000]}, {"layers": ["B"], "angle": -90.0, "pos": [71500000, 41875000], "shape": "roundrect", "radius": 250000, "pin1": false, "type": "smd", "size": [1500000, 2350000]}], "drawings": [], "ref": "C2", "bbox": {"pos": [69824999, 40854999], "size": [3350002, 5340002]}}, "MH4": {"layer": "F", "center": [52500000, 71000000], "pads": [{"layers": ["F", "B"], "angle": -0.0, "pos": [52500000, 71000000], "drillsize": [3200000, 3200000], "shape": "circle", "drillshape": "circle", "pin1": true, "type": "th", "size": [3200000, 3200000]}], "drawings": [], "ref": "MH4", "bbox": {"pos": [49474999, 67974999], "size": [6050002, 6050002]}}, "MH2": {"layer": "F", "center": [77500000, 42500000], "pads": [{"layers": ["F", "B"], "angle": -0.0, "pos": [77500000, 42500000], "drillsize": [3200000, 3200000], "shape": "circle", "drillshape": "circle", "pin1": true, "type": "th", "size": [3200000, 3200000]}], "drawings": [], "ref": "MH2", "bbox": {"pos": [74474999, 39474999], "size": [6050002, 6050002]}}, "C6": {"layer": "F", "center": [68500000, 56000000], "pads": [{"layers": ["F"], "angle": -270.0, "pos": [68500000, 56787500], "shape": "roundrect", "radius": 218750, "pin1": false, "type": "smd", "size": [875000, 950000]}, {"layers": ["F"], "angle": -270.0, "pos": [68500000, 55212500], "shape": "roundrect", "radius": 218750, "pin1": true, "type": "smd", "size": [875000, 950000]}], "drawings": [], "ref": "C6", "bbox": {"pos": [67744999, 54494999], "size": [1510002, 3010002]}}, "C5": {"layer": "F", "center": [66000000, 52000000], "pads": [{"layers": ["F"], "angle": -270.0, "pos": [66000000, 51212500], "shape": "roundrect", "radius": 218750, "pin1": true, "type": "smd", "size": [875000, 950000]}, {"layers": ["F"], "angle": -270.0, "pos": [66000000, 52787500], "shape": "roundrect", "radius": 218750, "pin1": false, "type": "smd", "size": [875000, 950000]}], "drawings": [], "ref": "C5", "bbox": {"pos": [65244999, 50494999], "size": [1510002, 3010002]}}, "C4": {"layer": "F", "center": [66000000, 59000000], "pads": [{"layers": ["F"], "angle": -90.0, "pos": [66000000, 58212500], "shape": "roundrect", "radius": 218750, "pin1": false, "type": "smd", "size": [875000, 950000]}, {"layers": ["F"], "angle": -90.0, "pos": [66000000, 59787500], "shape": "roundrect", "radius": 218750, "pin1": true, "type": "smd", "size": [875000, 950000]}], "drawings": [], "ref": "C4", "bbox": {"pos": [65244999, 57494999], "size": [1510002, 3010002]}}, "R4": {"layer": "F", "center": [57000000, 50000000], "pads": [{"layers": ["F"], "angle": -0.0, "pos": [56062500, 50000000], "shape": "roundrect", "radius": 243750, "pin1": true, "type": "smd", "size": [975000, 1400000]}, {"layers": ["F"], "angle": -0.0, "pos": [57937500, 50000000], "shape": "roundrect", "radius": 243750, "pin1": false, "type": "smd", "size": [975000, 1400000]}], "drawings": [], "ref": "R4", "bbox": {"pos": [55294999, 49024999], "size": [3410002, 1950002]}}, "R5": {"layer": "B", "center": [57000000, 60000000], "pads": [{"layers": ["B"], "angle": -180.0, "pos": [56062500, 60000000], "shape": "roundrect", "radius": 243750, "pin1": false, "type": "smd", "size": [975000, 1400000]}, {"layers": ["B"], "angle": -180.0, "pos": [57937500, 60000000], "shape": "roundrect", "radius": 243750, "pin1": true, "type": "smd", "size": [975000, 1400000]}], "drawings": [], "ref": "R5", "bbox": {"pos": [55294999, 59024999], "size": [3410002, 1950002]}}, "R6": {"layer": "B", "center": [57000000, 62000000], "pads": [{"layers": ["B"], "angle": -180.0, "pos": [56062500, 62000000], "shape": "roundrect", "radius": 243750, "pin1": false, "type": "smd", "size": [975000, 1400000]}, {"layers": ["B"], "angle": -180.0, "pos": [57937500, 62000000], "shape": "roundrect", "radius": 243750, "pin1": true, "type": "smd", "size": [975000, 1400000]}], "drawings": [], "ref": "R6", "bbox": {"pos": [55294999, 61024999], "size": [3410002, 1950002]}}, "R7": {"layer": "F", "center": [60000000, 56000000], "pads": [{"layers": ["F"], "angle": -90.0, "pos": [60000000, 56937500], "shape": "roundrect", "radius": 243750, "pin1": true, "type": "smd", "size": [975000, 1400000]}, {"layers": ["F"], "angle": -90.0, "pos": [60000000, 55062500], "shape": "roundrect", "radius": 243750, "pin1": false, "type": "smd", "size": [975000, 1400000]}], "drawings": [], "ref": "R7", "bbox": {"pos": [59024999, 54294999], "size": [1950002, 3410002]}}, "R1": {"layer": "F", "center": [66000000, 54500000], "pads": [{"layers": ["F"], "angle": -0.0, "pos": [66937500, 54500000], "shape": "roundrect", "radius": 243750, "pin1": false, "type": "smd", "size": [975000, 1400000]}, {"layers": ["F"], "angle": -0.0, "pos": [65062500, 54500000], "shape": "roundrect", "radius": 243750, "pin1": true, "type": "smd", "size": [975000, 1400000]}], "drawings": [], "ref": "R1", "bbox": {"pos": [64294999, 53524999], "size": [3410002, 1950002]}}, "R2": {"layer": "B", "center": [57000000, 58000000], "pads": [{"layers": ["B"], "angle": -0.0, "pos": [56062500, 58000000], "shape": "roundrect", "radius": 243750, "pin1": true, "type": "smd", "size": [975000, 1400000]}, {"layers": ["B"], "angle": -0.0, "pos": [57937500, 58000000], "shape": "roundrect", "radius": 243750, "pin1": false, "type": "smd", "size": [975000, 1400000]}], "drawings": [], "ref": "R2", "bbox": {"pos": [55294999, 57024999], "size": [3410002, 1950002]}}, "R3": {"layer": "F", "center": [57000000, 52500000], "pads": [{"layers": ["F"], "angle": -0.0, "pos": [56062500, 52500000], "shape": "roundrect", "radius": 243750, "pin1": true, "type": "smd", "size": [975000, 1400000]}, {"layers": ["F"], "angle": -0.0, "pos": [57937500, 52500000], "shape": "roundrect", "radius": 243750, "pin1": false, "type": "smd", "size": [975000, 1400000]}], "drawings": [], "ref": "R3", "bbox": {"pos": [55294999, 51524999], "size": [3410002, 1950002]}}, "REF**": {"layer": "F", "center": [69500000, 65000000], "pads": [], "drawings": [], "ref": "REF**", "bbox": {"pos": [66628520, 61983465], "size": [5756814, 6040672]}}, "R8": {"layer": "F", "center": [66000000, 56500000], "pads": [{"layers": ["F"], "angle": -0.0, "pos": [66937500, 56500000], "shape": "roundrect", "radius": 243750, "pin1": false, "type": "smd", "size": [975000, 1400000]}, {"layers": ["F"], "angle": -0.0, "pos": [65062500, 56500000], "shape": "roundrect", "radius": 243750, "pin1": true, "type": "smd", "size": [975000, 1400000]}], "drawings": [], "ref": "R8", "bbox": {"pos": [64294999, 55524999], "size": [3410002, 1950002]}}, "MH3": {"layer": "F", "center": [77500000, 71000000], "pads": [{"layers": ["F", "B"], "angle": -0.0, "pos": [77500000, 71000000], "drillsize": [3200000, 3200000], "shape": "circle", "drillshape": "circle", "pin1": true, "type": "th", "size": [3200000, 3200000]}], "drawings": [], "ref": "MH3", "bbox": {"pos": [74474999, 67974999], "size": [6050002, 6050002]}}, "C1": {"layer": "B", "center": [53500000, 48000000], "pads": [{"layers": ["B"], "angle": -180.0, "pos": [51875000, 48000000], "shape": "roundrect", "radius": 250000, "pin1": false, "type": "smd", "size": [1500000, 2350000]}, {"layers": ["B"], "angle": -180.0, "pos": [55125000, 48000000], "shape": "roundrect", "radius": 250000, "pin1": true, "type": "smd", "size": [1500000, 2350000]}], "drawings": [], "ref": "C1", "bbox": {"pos": [50854999, 46324999], "size": [5340002, 3350002]}}, "J4": {"layer": "B", "center": [58000000, 70500000], "pads": [{"layers": ["F", "B"], "angle": -270.0, "pos": [58000000, 70500000], "drillsize": [1000000, 1000000], "shape": "rect", "drillshape": "circle", "pin1": true, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -270.0, "pos": [60540000, 70500000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -270.0, "pos": [63080000, 70500000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -270.0, "pos": [65620000, 70500000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -270.0, "pos": [68160000, 70500000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -270.0, "pos": [70700000, 70500000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}], "drawings": [], "ref": "J4", "bbox": {"pos": [56174999, 68674999], "size": [16350002, 3650002]}}, "J5": {"layer": "B", "center": [56500000, 55250000], "pads": [{"layers": ["F", "B"], "angle": -270.0, "pos": [56500000, 55250000], "drillsize": [1000000, 1000000], "shape": "rect", "drillshape": "circle", "pin1": true, "type": "th", "size": [1700000, 1700000]}], "drawings": [], "ref": "J5", "bbox": {"pos": [54674999, 53424999], "size": [3650002, 3650002]}}, "J1": {"layer": "F", "center": [52500000, 62000000], "pads": [{"layers": ["F", "B"], "angle": -90.0, "pos": [52720000, 57125000], "drillsize": [350000, 1350000], "shape": "oval", "drillshape": "oblong", "pin1": false, "type": "th", "size": [850000, 1850000]}, {"layers": ["F", "B"], "angle": -90.0, "pos": [52720000, 64275000], "drillsize": [350000, 1350000], "shape": "oval", "drillshape": "oblong", "pin1": false, "type": "th", "size": [850000, 1850000]}, {"layers": ["F", "B"], "angle": -90.0, "pos": [52500000, 59400000], "drillsize": [440000, 440000], "shape": "circle", "drillshape": "circle", "pin1": false, "type": "th", "size": [840000, 840000]}, {"layers": ["F", "B"], "angle": -90.0, "pos": [53500000, 60050000], "drillsize": [440000, 440000], "shape": "circle", "drillshape": "circle", "pin1": false, "type": "th", "size": [840000, 840000]}, {"layers": ["F", "B"], "angle": -90.0, "pos": [52500000, 60700000], "drillsize": [440000, 440000], "shape": "circle", "drillshape": "circle", "pin1": false, "type": "th", "size": [840000, 840000]}, {"layers": ["F", "B"], "angle": -90.0, "pos": [53500000, 61350000], "drillsize": [440000, 440000], "shape": "circle", "drillshape": "circle", "pin1": false, "type": "th", "size": [840000, 840000]}, {"layers": ["F", "B"], "angle": -90.0, "pos": [52500000, 62000000], "drillsize": [440000, 440000], "shape": "rect", "drillshape": "circle", "pin1": true, "type": "th", "size": [840000, 840000]}], "drawings": [], "ref": "J1", "bbox": {"pos": [50744999, 56174999], "size": [3950002, 9050002]}}, "J2": {"layer": "B", "center": [78340000, 48100000], "pads": [{"layers": ["F", "B"], "angle": -180.0, "pos": [78340000, 48100000], "drillsize": [1000000, 1000000], "shape": "rect", "drillshape": "circle", "pin1": true, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [75800000, 48100000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [78340000, 50640000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [75800000, 50640000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [78340000, 53180000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [75800000, 53180000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [78340000, 55720000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [75800000, 55720000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [78340000, 58260000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [75800000, 58260000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [78340000, 60800000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [75800000, 60800000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [78340000, 63340000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [75800000, 63340000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [78340000, 65880000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -180.0, "pos": [75800000, 65880000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}], "drawings": [], "ref": "J2", "bbox": {"pos": [73964999, 46274999], "size": [6200002, 21400002]}}, "J3": {"layer": "B", "center": [57000000, 66000000], "pads": [{"layers": ["F", "B"], "angle": -270.0, "pos": [57000000, 66000000], "drillsize": [1000000, 1000000], "shape": "rect", "drillshape": "circle", "pin1": true, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -270.0, "pos": [59540000, 66000000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -270.0, "pos": [62080000, 66000000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}, {"layers": ["F", "B"], "angle": -270.0, "pos": [64620000, 66000000], "drillsize": [1000000, 1000000], "shape": "oval", "drillshape": "circle", "pin1": false, "type": "th", "size": [1700000, 1700000]}], "drawings": [], "ref": "J3", "bbox": {"pos": [55174999, 64174999], "size": [11250002, 3650002]}}, "Y1": {"layer": "B", "center": [71000000, 49500000], "pads": [{"layers": ["B"], "angle": -315.0, "pos": [70151472, 48651472], "shape": "rect", "pin1": true, "type": "smd", "size": [400000, 1900000]}, {"layers": ["B"], "angle": -315.0, "pos": [71000000, 49500000], "shape": "rect", "pin1": false, "type": "smd", "size": [400000, 1900000]}, {"layers": ["B"], "angle": -315.0, "pos": [71848528, 50348528], "shape": "rect", "pin1": false, "type": "smd", "size": [400000, 1900000]}], "drawings": [], "ref": "Y1", "bbox": {"pos": [68677257, 47177257], "size": [4504064, 4504064]}}, "MH1": {"layer": "F", "center": [52500000, 42500000], "pads": [{"layers": ["F", "B"], "angle": -0.0, "pos": [52500000, 42500000], "drillsize": [3200000, 3200000], "shape": "circle", "drillshape": "circle", "pin1": true, "type": "th", "size": [3200000, 3200000]}], "drawings": [], "ref": "MH1", "bbox": {"pos": [49474999, 39474999], "size": [6050002, 6050002]}}, "D2": {"layer": "F", "center": [53000000, 50000000], "pads": [{"layers": ["F"], "angle": -180.0, "pos": [53937500, 50000000], "shape": "roundrect", "radius": 243750, "pin1": true, "type": "smd", "size": [975000, 1400000]}, {"layers": ["F"], "angle": -180.0, "pos": [52062500, 50000000], "shape": "roundrect", "radius": 243750, "pin1": false, "type": "smd", "size": [975000, 1400000]}], "drawings": [], "ref": "D2", "bbox": {"pos": [51294999, 48979999], "size": [3450002, 2040002]}}, "D3": {"layer": "B", "center": [54000000, 51500000], "pads": [{"layers": ["B"], "angle": -90.0, "pos": [54950000, 52500000], "shape": "rect", "pin1": true, "type": "smd", "size": [900000, 800000]}, {"layers": ["B"], "angle": -90.0, "pos": [53050000, 52500000], "shape": "rect", "pin1": false, "type": "smd", "size": [900000, 800000]}, {"layers": ["B"], "angle": -90.0, "pos": [54000000, 50500000], "shape": "rect", "pin1": false, "type": "smd", "size": [900000, 800000]}], "drawings": [], "ref": "D3", "bbox": {"pos": [52224999, 49774999], "size": [3550002, 3450002]}}, "D1": {"layer": "F", "center": [53000000, 52500000], "pads": [{"layers": ["F"], "angle": -180.0, "pos": [52062500, 52500000], "shape": "roundrect", "radius": 243750, "pin1": false, "type": "smd", "size": [975000, 1400000]}, {"layers": ["F"], "angle": -180.0, "pos": [53937500, 52500000], "shape": "roundrect", "radius": 243750, "pin1": true, "type": "smd", "size": [975000, 1400000]}], "drawings": [], "ref": "D1", "bbox": {"pos": [51294999, 51479999], "size": [3450002, 2040002]}}}, "bom": {"both": [[2, "47uF", "CP_EIA-3528-21_Kemet-B_Pad1.50x2.35mm_HandSolder", ["C1", "C2"]], [5, "0.1uF", "C_0603_1608Metric", ["C3", "C4", "C5", "C6", "C7"]], [3, "100k", "R_0805_2012Metric", ["R1", "R7", "R8"]], [2, "1K", "R_0805_2012Metric", ["R3", "R4"]], [2, "22R", "R_0805_2012Metric", ["R5", "R6"]], [1, "1K5", "R_0805_2012Metric", ["R2"]], [1, "PWR", "LED_0805_2012Metric", ["D1"]], [1, "STATUS", "LED_0805_2012Metric", ["D2"]], [1, "BAT54C", "SOT-23", ["D3"]], [1, "STM32F103C8Tx", "LQFP-48_7x7mm_P0.5mm", ["U1"]], [1, "AT24C02", "SOIC-8_3.9x4.9mm_P1.27mm", ["U3"]], [1, "LM1117-3.3", "SOT-223-3_TabPin2", ["U2"]], [1, "8M", "Resonator_SMD_muRata_CSTxExxV-3Pin_3.0x1.1mm", ["Y1"]], [1, "10K", "R_Array_Convex_4x0603", ["RN1"]], [1, "DISPLAYPWR", "PinHeader_1x01_P2.54mm_Vertical", ["J5"]], [1, "UART", "PinHeader_1x04_P2.54mm_Vertical", ["J3"]], [1, "FP", "PinHeader_1x06_P2.54mm_Vertical", ["J4"]], [1, "DISPLAY", "PinHeader_2x08_P2.54mm_Vertical", ["J2"]], [1, "USB_B_Micro", "USB_Micro-B_Wuerth_614105150721_Vertical", ["J1"]]], "B": [[2, "47uF", "CP_EIA-3528-21_Kemet-B_Pad1.50x2.35mm_HandSolder", ["C1", "C2"]], [1, "0.1uF", "C_0603_1608Metric", ["C7"]], [2, "22R", "R_0805_2012Metric", ["R5", "R6"]], [1, "1K5", "R_0805_2012Metric", ["R2"]], [1, "BAT54C", "SOT-23", ["D3"]], [1, "STM32F103C8Tx", "LQFP-48_7x7mm_P0.5mm", ["U1"]], [1, "AT24C02", "SOIC-8_3.9x4.9mm_P1.27mm", ["U3"]], [1, "8M", "Resonator_SMD_muRata_CSTxExxV-3Pin_3.0x1.1mm", ["Y1"]], [1, "10K", "R_Array_Convex_4x0603", ["RN1"]], [1, "DISPLAYPWR", "PinHeader_1x01_P2.54mm_Vertical", ["J5"]], [1, "UART", "PinHeader_1x04_P2.54mm_Vertical", ["J3"]], [1, "FP", "PinHeader_1x06_P2.54mm_Vertical", ["J4"]], [1, "DISPLAY", "PinHeader_2x08_P2.54mm_Vertical", ["J2"]]], "F": [[4, "0.1uF", "C_0603_1608Metric", ["C3", "C4", "C5", "C6"]], [3, "100k", "R_0805_2012Metric", ["R1", "R7", "R8"]], [2, "1K", "R_0805_2012Metric", ["R3", "R4"]], [1, "PWR", "LED_0805_2012Metric", ["D1"]], [1, "STATUS", "LED_0805_2012Metric", ["D2"]], [1, "LM1117-3.3", "SOT-223-3_TabPin2", ["U2"]], [1, "USB_B_Micro", "USB_Micro-B_Wuerth_614105150721_Vertical", ["J1"]]]}, "metadata": {"date": "2018-07-27 02:08:22", "company": "OpenScopeProject", "revision": "A", "title": "HP34401a DMM OLED mod"}}
///////////////////////////////////////////////

///////////////////////////////////////////////
/* PCB rendering code */

var redrawOnDrag = true;

function deg2rad(deg) {
  return deg * Math.PI / 180;
}

function getEdgesBoundaries(edges) {
  var minx = edges.reduce((min, edge) => {
    return Math.min(min, edge.start[0]);
  }, Infinity);
  var maxx = edges.reduce((min, edge) => {
    return Math.max(min, edge.start[0]);
  }, -Infinity);
  var miny = edges.reduce((min, edge) => {
    return Math.min(min, edge.start[1]);
  }, Infinity);
  var maxy = edges.reduce((min, edge) => {
    return Math.max(min, edge.start[1]);
  }, -Infinity);
  return [minx, maxx, miny, maxy];
}

function drawtext(ctx, scalefactor, text, color, flip) {
  ctx.save();
  ctx.translate(...text.pos);
  angle = -text.angle;
  if (flip) {
    ctx.scale(-1, 1);
    angle = -angle;
  }
  txt = text.text.split("\n")
  ctx.rotate(deg2rad(angle));
  ctx.scale(text.width, text.height);
  ctx.fillStyle = color;
  switch (text.horiz_justify) {
    case -1:
      ctx.textAlign = "left";
      break;
    case 0:
      ctx.textAlign = "center";
      break;
    case 1:
      ctx.textAlign = "right";
      break;
  }
  for (i = 0; i < txt.length; i++) {
    offset = -(txt.length - 1) * 0.8 + i * 1.6;
    ctx.fillText(txt[i], 0, offset);
  }
  ctx.restore();
}

function drawedge(ctx, scalefactor, edge, color) {
  ctx.strokeStyle = color;
  ctx.lineWidth = Math.max(1 / scalefactor, edge.width);
  ctx.lineCap = "round";
  if (edge.type == "segment") {
    ctx.beginPath();
    ctx.moveTo(...edge.start);
    ctx.lineTo(...edge.end);
    ctx.stroke();
  }
  if (edge.type == "arc") {
    ctx.beginPath();
    ctx.arc(
      ...edge.start,
      edge.radius,
      deg2rad(edge.startangle),
      deg2rad(edge.endangle));
    ctx.stroke();
  }
  if (edge.type == "circle") {
    ctx.beginPath();
    ctx.arc(
      ...edge.start,
      edge.radius,
      0, 2 * Math.PI);
    ctx.stroke();
  }
}

function drawOblong(ctx, scalefactor, color, size) {
  ctx.beginPath();
  ctx.strokeStyle = color;
  ctx.lineCap = "round";
  if (size[0] > size[1]) {
    ctx.lineWidth = size[1];
    var from = [-size[0] / 2 + size[1] / 2, 0];
    var to = [-from[0], 0];
  } else {
    ctx.lineWidth = size[0];
    var from = [0, -size[1] / 2 + size[0] / 2];
    var to = [0, -from[1]];
  }
  ctx.moveTo(...from);
  ctx.lineTo(...to);
  ctx.stroke();
}

function drawRoundRect(ctx, scalefactor, color, size, radius) {
  ctx.beginPath();
  ctx.strokeStyle = color;
  x = size[0] * -0.5;
  y = size[1] * -0.5;
  width = size[0];
  height = size[1];
  ctx.moveTo(x, 0);
  ctx.arcTo(x, y + height, x + width, y + height, radius);
  ctx.arcTo(x + width, y + height, x + width, y, radius);
  ctx.arcTo(x + width, y, x, y, radius);
  ctx.arcTo(x, y, x, y + height, radius);
  ctx.closePath();
  ctx.fill();
}

function drawPolygons(ctx, scalefactor, color, polygons) {
  ctx.fillStyle = color;
  for (polygon of polygons) {
    ctx.beginPath();
    for (vertex of polygon) {
      ctx.lineTo(...vertex)
    }
    ctx.closePath();
    ctx.fill();
  }
}

function drawPolygonShape(ctx, scalefactor, shape, color) {
  ctx.save();
  ctx.translate(...shape.pos);
  ctx.rotate(deg2rad(-shape.angle));
  drawPolygons(ctx, scalefactor, color, shape.polygons);
  ctx.restore();
}

function drawDrawing(ctx, layer, scalefactor, drawing, color) {
  if (["segment", "arc", "circle"].includes(drawing.type)) {
    drawedge(ctx, scalefactor, drawing, color);
  } else if (drawing.type == "polygon") {
    drawPolygonShape(ctx, scalefactor, drawing, color);
  } else {
    drawtext(ctx, scalefactor, drawing, color, layer == "B");
  }
}

function drawModule(ctx, layer, scalefactor, module, highlight) {
  var padcolor = "#808080";
  if (highlight) {
    padcolor = "#D04040";
    // draw bounding box
    if (module.layer == layer) {
      ctx.save();
      ctx.globalAlpha = 0.2;
      ctx.translate(...module.bbox.pos);
      ctx.fillStyle = "#D04040";
      ctx.fillRect(
        0, 0,
        ...module.bbox.size);
      ctx.globalAlpha = 1;
      ctx.strokeStyle = "#D04040";
      ctx.lineWidth = 2 / scalefactor;
      ctx.strokeRect(
        0, 0,
        ...module.bbox.size);
      ctx.restore();
    }
  }
  // draw drawings
  for (drawing of module.drawings) {
    if (drawing.layer == layer) {
      drawDrawing(ctx, layer, scalefactor, drawing.drawing, padcolor);
    }
  }
  // draw pads
  for (pad of module.pads) {
    if (pad.layers.includes(layer)) {
      ctx.save();
      ctx.translate(...pad.pos);
      ctx.rotate(deg2rad(pad.angle));
      ctx.fillStyle = padcolor;
      if (pad.shape == "rect") {
        ctx.fillRect(
          ...pad.size.map(c => -c * 0.5),
          ...pad.size);
      } else if (pad.shape == "oval") {
        drawOblong(ctx, scalefactor, padcolor, pad.size)
      } else if (pad.shape == "circle") {
        ctx.beginPath();
        ctx.arc(0, 0, pad.size[0] / 2, 0, 2 * Math.PI);
        ctx.fill();
      } else if (pad.shape == "roundrect") {
        drawRoundRect(ctx, scalefactor, padcolor, pad.size, pad.radius)
      } else if (pad.shape == "custom") {
        drawPolygons(ctx, scalefactor, padcolor, pad.polygons)
      }
      if (pad.type == "th") {
        if (pad.drillshape == "oblong") {
          drawOblong(ctx, scalefactor, "#CCCCCC", pad.drillsize)
        } else {
          ctx.fillStyle = "#CCCCCC"
          ctx.beginPath();
          ctx.arc(0, 0, pad.drillsize[0] / 2, 0, 2 * Math.PI);
          ctx.fill();
        }
      }
      ctx.restore();
    }
  }
}

function drawModules(canvas, layer, scalefactor, highlightedRefs) {
  var ctx = canvas.getContext("2d");
  for (edge of pcbdata.edges) {
    drawedge(ctx, scalefactor, edge, "black");
  }
  for (i in pcbdata.modules) {
    var mod = pcbdata.modules[i];
    var highlight = highlightedRefs.includes(mod.ref);
    drawModule(ctx, layer, scalefactor, mod, highlight);
  }
}

function drawSilkscreen(canvas, layer, scalefactor) {
  var ctx = canvas.getContext("2d");
  for (d of pcbdata.silkscreen[layer]) {
    if (["segment", "arc", "circle"].includes(d.type)) {
      drawedge(ctx, scalefactor, d, "#aa4");
    } else if (d.type == "polygon") {
      drawPolygonShape(ctx, scalefactor, d, "#4aa");
    } else {
      drawtext(ctx, scalefactor, d, "#4aa", layer == "B");
    }
  }
}

function clearCanvas(canvas) {
  var ctx = canvas.getContext("2d");
  ctx.save();
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.restore();
}

function drawHighlightsOnLayer(canvasdict) {
  clearCanvas(canvasdict.highlight);
  drawModules(canvasdict.highlight, canvasdict.layer, canvasdict.transform.s, highlightedRefs);
}

function drawHighlights() {
  drawHighlightsOnLayer(allcanvas.front);
  drawHighlightsOnLayer(allcanvas.back);
}

function drawBackground(canvasdict) {
  clearCanvas(canvasdict.bg);
  clearCanvas(canvasdict.silk);
  drawModules(canvasdict.bg, canvasdict.layer, canvasdict.transform.s, []);
  drawSilkscreen(canvasdict.silk, canvasdict.layer, canvasdict.transform.s);
}

function prepareCanvas(canvas, flip, transform) {
  var ctx = canvas.getContext("2d");
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  fontsize = 1.55;
  ctx.font = "bold " + fontsize + "px Consolas,\"DejaVu Sans Mono\",Monaco,monospace";
  ctx.textBaseline = "middle";
  ctx.scale(transform.zoom, transform.zoom);
  ctx.translate(transform.panx, transform.pany);
  if (flip) {
    ctx.scale(-1, 1);
  }
  ctx.translate(transform.x, transform.y);
  ctx.scale(transform.s, transform.s);
}

function prepareLayer(canvasdict) {
  flip = (canvasdict.layer == "B");
  for (c of ["bg", "silk", "highlight"]) {
    prepareCanvas(canvasdict[c], flip, canvasdict.transform);
  }
}

function recalcLayerScale(canvasdict) {
  canvasdivid = { "F": "frontcanvas", "B": "backcanvas"}[canvasdict.layer];
  var width = document.getElementById(canvasdivid).clientWidth * 2;
  var height = document.getElementById(canvasdivid).clientHeight * 2;
  var [minx, maxx, miny, maxy] = getEdgesBoundaries(pcbdata.edges);
  var scalefactor = Math.min(
    width * 0.98 / (maxx - minx),
    height * 0.98 / (maxy - miny)
  );
  if (scalefactor < 0) {
    scalefactor = 0.1;
  }
  canvasdict.transform.s = scalefactor;
  flip = (canvasdict.layer == "B");
  if (flip) {
    canvasdict.transform.x = -((maxx + minx) * scalefactor + width) * 0.5;
  } else {
    canvasdict.transform.x = -((maxx + minx) * scalefactor - width) * 0.5;
  }
  canvasdict.transform.y = -((maxy + miny) * scalefactor - height) * 0.5;
  for (c of ["bg", "silk", "highlight"]) {
    canvas = canvasdict[c];
    canvas.width = width;
    canvas.height = height;
    canvas.style.width = (width / 2) + "px";
    canvas.style.height = (height / 2) + "px";
  }
  console.log("Scale factor " + canvasdivid + ": ", canvasdict.transform);
}

function redrawCanvas(layerdict) {
  prepareLayer(layerdict);
  drawBackground(layerdict);
  drawHighlights(layerdict);
  t = layerdict.transform;
  dbgdiv.innerHTML = "x: " + t.x + "</br>y: " + t.y + "</br>s: " + t.s +
    "</br>panx: " + t.panx + "</br>pany: " + t.pany + "</br>zoom: " + t.zoom;
}

function resizeCanvas(layerdict) {
  recalcLayerScale(layerdict);
  redrawCanvas(layerdict);
}

function resizeAll() {
  resizeCanvas(allcanvas.front);
  resizeCanvas(allcanvas.back);
}

function handleMouseDown(e, layerdict) {
  if (e.which != 1) {
    return;
  }
  e.preventDefault();
  e.stopPropagation();
  layerdict.transform.mousestartx = e.offsetX;
  layerdict.transform.mousestarty = e.offsetY;
  layerdict.transform.mousedown = true;
}

function handleMouseUp(e, layerdict) {
  e.preventDefault();
  e.stopPropagation();
  layerdict.transform.mousedown = false;
  if (e.which == 3) {
    // Reset pan and zoom on right click.
    layerdict.transform.panx = 0;
    layerdict.transform.pany = 0;
    layerdict.transform.zoom = 1;
  }
  redrawCanvas(layerdict);
}

function handleMouseMove(e, layerdict) {
  if (!layerdict.transform.mousedown) {
    return;
  }
  e.preventDefault();
  e.stopPropagation();
  dx = e.offsetX - layerdict.transform.mousestartx;
  dy = e.offsetY - layerdict.transform.mousestarty;
  layerdict.transform.panx += 2 * dx / layerdict.transform.zoom;
  layerdict.transform.pany += 2 * dy / layerdict.transform.zoom;
  layerdict.transform.mousestartx = e.offsetX;
  layerdict.transform.mousestarty = e.offsetY;
  if (redrawOnDrag) {
    redrawCanvas(layerdict);
  }
}

function handleMouseWheel(e, layerdict) {
  e.preventDefault();
  e.stopPropagation();
  t = layerdict.transform;
  var wheeldelta = e.deltaY;
  if (e.deltaMode == 1) {
    // FF only, scroll by lines
    wheeldelta *= 30;
  } else if (e.deltaMode == 2) {
    wheeldelta *= 300;
  }
  if (wheeldelta > 0) {
    m = 100 / wheeldelta;
  } else {
    m = -wheeldelta / 100;
  }
  // Limit amount of zoom per tick.
  if (m > 3) {
    m = 3;
  } else if (m < 0.33) {
    m = 0.33;
  }
  t.zoom *= m;
  zoomd = (1 - m) / t.zoom;
  t.panx += 2 * e.offsetX * zoomd;
  t.pany += 2 * e.offsetY * zoomd;
  redrawCanvas(layerdict);
}

function addMouseHandlers(div, layerdict) {
  div.onmousedown = function(e) {
    handleMouseDown(e, layerdict);
  };
  div.onmousemove = function(e) {
    handleMouseMove(e, layerdict);
  };
  div.onmouseup = function(e) {
    handleMouseUp(e, layerdict);
  };
  div.onmouseout = function(e) {
    handleMouseUp(e, layerdict);
  }
  div.onwheel = function(e) {
    handleMouseWheel(e, layerdict);
  }
  for (element of [div, layerdict.bg, layerdict.silk, layerdict.highlight]) {
    element.addEventListener("contextmenu", function (e) {
      e.preventDefault();
    }, false);
  }
}

function setRedrawOnDrag(value) {
  redrawOnDrag = value;
  writeStorage("redrawOnDrag", value);
}

function initRender() {
  allcanvas = {
    front: {
      transform: {
        x: 0,
        y: 0,
        s: 1,
        panx: 0,
        pany: 0,
        zoom: 1,
        mousestartx: 0,
        mousestarty: 0,
        mousedown: false,
      },
      bg: document.getElementById("F_bg"),
      silk: document.getElementById("F_slk"),
      highlight: document.getElementById("F_hl"),
      layer: "F",
    },
    back: {
      transform: {
        x: 0,
        y: 0,
        s: 1,
        panx: 0,
        pany: 0,
        zoom: 1,
        mousestartx: 0,
        mousestarty: 0,
        mousedown: false,
      },
      bg: document.getElementById("B_bg"),
      silk: document.getElementById("B_slk"),
      highlight: document.getElementById("B_hl"),
      layer: "B",
    }
  };
  addMouseHandlers(document.getElementById("frontcanvas"), allcanvas.front);
  addMouseHandlers(document.getElementById("backcanvas"), allcanvas.back);
}

///////////////////////////////////////////////

///////////////////////////////////////////////
/* DOM manipulation and misc code */

var storagePrefix = 'KiCad_HTML_BOM__' + pcbdata.metadata.title + '__' +
  pcbdata.metadata.revision + '__';
var bomsplit;
var canvassplit;
var canvaslayout = "default";
var bomlayout = "default";
var highlightedRefs = [];
var bomCheckboxes = "";

function readStorage(key) {
  return window.localStorage.getItem(storagePrefix + '#' + key);
}

function writeStorage(key, value) {
  window.localStorage.setItem(storagePrefix + '#' + key, value);
}

function dbg(str) {
  dbgdiv.textContent = str;
}

function getStoredCheckboxRefs(checkbox) {
  existingRefs = readStorage("checkbox_" + checkbox);
  if (!existingRefs) {
    refsSet = new Set();
  } else {
    refsSet = new Set(existingRefs.split(","));
  }
  return refsSet;
}

function setBomCheckboxState(checkbox, element, references) {
  var storedRefsSet = getStoredCheckboxRefs(checkbox);
  var currentRefsSet = new Set(references);
  // Get difference of current - stored
  var difference = new Set(currentRefsSet);
  for (ref of storedRefsSet) {
    difference.delete(ref);
  }
  if (difference.size == 0) {
    // All the current refs are stored
    element.checked = true;
  } else if (difference.size == currentRefsSet.size) {
    // None of the current refs are stored
    element.checked = false;
  } else {
    // Some of the refs are stored
    element.checked = false;
    element.indeterminate = true;
  }
}

function createCheckboxChangeHandler(checkbox, references) {
  return function() {
    refsSet = getStoredCheckboxRefs(checkbox);
    if (this.checked) {
      // checkbox ticked
      for (ref of references) {
        refsSet.add(ref);
      }
    } else {
      // checkbox unticked
      for (ref of references) {
        refsSet.delete(ref);
      }
    }
    writeStorage("checkbox_" + checkbox, [...refsSet].join(","));
  }
}

function createRowMouseEnterHandler(refs) {
  return function() {
    highlightedRefs = refs;
    drawHighlights();
  }
}

function entryMatches(entry) {
  // check refs
  for (ref of entry[3]) {
    if (ref.toLowerCase().indexOf(filter) >= 0) {
      return true;
    }
  }
  // check value
  if (entry[1].toLowerCase().indexOf(filter) >= 0) {
    return true;
  }
  // check footprint
  if (entry[2].toLowerCase().indexOf(filter) >= 0) {
    return true;
  }
  return false;
}

function findRefInEntry(entry) {
  for (ref of entry[3]) {
    if (ref.toLowerCase() == reflookup) {
      return [ref];
    }
  }
  return false;
}

function highlightFilter(s) {
  if (!filter) {
    return s;
  }
  var parts = s.toLowerCase().split(filter);
  if (parts.length == 1) {
    return s;
  }
  var r = "";
  var pos = 0;
  for (i in parts) {
    if (i > 0) {
      r += '<mark class="highlight">' +
        s.substring(pos, pos + filter.length) +
        '</mark>';
      pos += filter.length;
    }
    r += s.substring(pos, pos + parts[i].length);
    pos += parts[i].length;
  }
  return r;
}

function populateBomHeader() {
  var tr = document.createElement("TR");
  var td = document.createElement("TH");
  td.classList.add("numCol");
  tr.appendChild(td);
  checkboxes = bomCheckboxes.split(",");
  for (checkbox of checkboxes) {
    if (checkbox) {
      td = document.createElement("TH");
      td.classList.add("bom-checkbox");
      td.innerHTML = checkbox;
      tr.appendChild(td);
    }
  }
  td = document.createElement("TH");
  td.classList.add("References");
  td.innerHTML = "References";
  tr.appendChild(td);
  td = document.createElement("TH");
  td.classList.add("Value");
  td.innerHTML = "Value";
  tr.appendChild(td);
  td = document.createElement("TH");
  td.classList.add("Footprint");
  td.innerHTML = "Footprint";
  tr.appendChild(td);
  td = document.createElement("TH");
  td.classList.add("Quantity");
  td.innerHTML = "Quantity";
  tr.appendChild(td);
  bomhead.appendChild(tr);
}

function populateBomBody() {
  var first = true;
  switch (canvaslayout) {
    case 'F':
      bomtable = pcbdata.bom.F;
      break;
    case 'FB':
      bomtable = pcbdata.bom.both;
      break;
    case 'B':
      bomtable = pcbdata.bom.B;
      break;
  }
  for (i in bomtable) {
    var bomentry = bomtable[i];
    if (filter && !entryMatches(bomentry)) {
      continue;
    }
    references = bomentry[3];
    if (reflookup) {
      references = findRefInEntry(bomentry);
      if (!references) {
        continue;
      }
    }
    var tr = document.createElement("TR");
    var td = document.createElement("TD");
    var rownum = +i + 1;
    tr.id = "bomrow" + rownum;
    td.textContent = rownum;
    tr.appendChild(td);
    // Checkboxes
    for (checkbox of checkboxes) {
      if (checkbox) {
        td = document.createElement("TD");
        input = document.createElement("input");
        input.type = "checkbox";
        input.onchange = createCheckboxChangeHandler(checkbox, references);
        setBomCheckboxState(checkbox, input, references);
        td.appendChild(input);
        tr.appendChild(td);
      }
    }
    // References
    td = document.createElement("TD");
    td.innerHTML = highlightFilter(references.join(", "));
    tr.appendChild(td);
    // Value
    td = document.createElement("TD");
    td.innerHTML = highlightFilter(bomentry[1]);
    tr.appendChild(td);
    // Footprint
    td = document.createElement("TD");
    td.innerHTML = highlightFilter(bomentry[2]);
    tr.appendChild(td);
    // Quantity
    td = document.createElement("TD");
    td.textContent = bomentry[3].length;
    tr.appendChild(td);
    bom.appendChild(tr);
    tr.onmouseenter = createRowMouseEnterHandler(references);
    if ((filter || reflookup) && first) {
      highlightedRefs = references;
      drawHighlights();
      first = false;
    }
  }
}

function populateBomTable() {
  while (bom.firstChild) {
    bom.removeChild(bom.firstChild);
  }
  while (bomhead.firstChild) {
    bomhead.removeChild(bomhead.firstChild);
  }
  populateBomHeader();
  populateBomBody();
}

function updateFilter(input) {
  filter = input.toLowerCase();
  populateBomTable();
}

function updateRefLookup(input) {
  reflookup = input.toLowerCase();
  populateBomTable();
}

function silkscreenVisible(visible) {
  if (visible) {
    allcanvas.front.silk.style.display = "";
    allcanvas.back.silk.style.display = "";
    writeStorage("silkscreenVisible", true);
  } else {
    allcanvas.front.silk.style.display = "none";
    allcanvas.back.silk.style.display = "none";
    writeStorage("silkscreenVisible", false);
  }
}

function changeCanvasLayout(layout) {
  document.getElementById("fl-btn").classList.remove("depressed");
  document.getElementById("fb-btn").classList.remove("depressed");
  document.getElementById("bl-btn").classList.remove("depressed");
  switch (layout) {
    case 'F':
      document.getElementById("fl-btn").classList.add("depressed");
      if (bomlayout != "BOM") {
        canvassplit.collapse(1);
      }
      break;
    case 'B':
      document.getElementById("bl-btn").classList.add("depressed");
      if (bomlayout != "BOM") {
        canvassplit.collapse(0);
      }
      break;
    default:
      document.getElementById("fb-btn").classList.add("depressed");
      if (bomlayout != "BOM") {
        canvassplit.setSizes([50, 50]);
      }
  }
  canvaslayout = layout;
  writeStorage("canvaslayout", layout);
  resizeAll();
  populateBomTable();
}

function populateMetadata() {
  document.getElementById("title").innerHTML = pcbdata.metadata.title;
  document.getElementById("revision").innerHTML = "Rev: " + pcbdata.metadata.revision;
  document.getElementById("company").innerHTML = pcbdata.metadata.company;
  document.getElementById("filedate").innerHTML = pcbdata.metadata.date;
  if (pcbdata.metadata.title != "") {
    document.title = pcbdata.metadata.title + " BOM";
  }
}

function changeBomLayout(layout) {
  document.getElementById("bom-btn").classList.remove("depressed");
  document.getElementById("lr-btn").classList.remove("depressed");
  document.getElementById("tb-btn").classList.remove("depressed");
  switch (layout) {
    case 'BOM':
      document.getElementById("bom-btn").classList.add("depressed");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      document.getElementById("frontcanvas").style.display = "none";
      document.getElementById("backcanvas").style.display = "none";
      document.getElementById("bot").style.height = "";
      break;
    case 'TB':
      document.getElementById("tb-btn").classList.add("depressed");
      document.getElementById("frontcanvas").style.display = "";
      document.getElementById("backcanvas").style.display = "";
      document.getElementById("bot").style.height = "calc(100% - 80px)";
      document.getElementById("bomdiv").classList.remove("split-horizontal");
      document.getElementById("canvasdiv").classList.remove("split-horizontal");
      document.getElementById("frontcanvas").classList.add("split-horizontal");
      document.getElementById("backcanvas").classList.add("split-horizontal");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      bomsplit = Split(['#bomdiv', '#canvasdiv'], {
        sizes: [50, 50],
        onDragEnd: resizeAll,
        direction: "vertical",
        gutterSize: 5
      });
      canvassplit = Split(['#frontcanvas', '#backcanvas'], {
        sizes: [50, 50],
        gutterSize: 5,
        onDragEnd: resizeAll
      });
      break;
    case 'LR':
      document.getElementById("lr-btn").classList.add("depressed");
      document.getElementById("frontcanvas").style.display = "";
      document.getElementById("backcanvas").style.display = "";
      document.getElementById("bot").style.height = "calc(100% - 80px)";
      document.getElementById("bomdiv").classList.add("split-horizontal");
      document.getElementById("canvasdiv").classList.add("split-horizontal");
      document.getElementById("frontcanvas").classList.remove("split-horizontal");
      document.getElementById("backcanvas").classList.remove("split-horizontal");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      bomsplit = Split(['#bomdiv', '#canvasdiv'], {
        sizes: [50, 50],
        onDragEnd: resizeAll,
        gutterSize: 5
      });
      canvassplit = Split(['#frontcanvas', '#backcanvas'], {
        sizes: [50, 50],
        gutterSize: 5,
        direction: "vertical",
        onDragEnd: resizeAll
      });
  }
  bomlayout = layout;
  writeStorage("bomlayout", layout);
  changeCanvasLayout(canvaslayout);
}

function removeGutterNode(node) {
  for (i = 0; i < node.childNodes.length; i++) {
    if (node.childNodes[i].classList &&
      node.childNodes[i].classList.contains("gutter")) {
      node.removeChild(node.childNodes[i]);
      break;
    }
  }
}

function cleanGutters() {
  removeGutterNode(document.getElementById("bot"));
  removeGutterNode(document.getElementById("canvasdiv"));
}

function setBomCheckboxes(value) {
  bomCheckboxes = value;
  writeStorage("bomCheckboxes", value);
  populateBomTable();
}

window.onload = function(e) {
  cleanGutters();
  initRender();
  dbgdiv = document.getElementById("dbg");
  bom = document.getElementById("bombody");
  bomhead = document.getElementById("bomhead");
  bomlayout = readStorage("bomlayout");
  if (!bomlayout) {
    bomlayout = "LR";
  }
  canvaslayout = readStorage("canvaslayout");
  if (!canvaslayout) {
    canvaslayout = "FB";
  }
  filter = "";
  reflookup = "";
  populateMetadata();
  bomCheckboxes = readStorage("bomCheckboxes");
  if (bomCheckboxes === null) {
    bomCheckboxes = "Sourced,Placed";
  }
  document.getElementById("bomCheckboxes").value = bomCheckboxes;
  changeBomLayout(bomlayout);
  if (readStorage("silkscreenVisible") === "false") {
    document.getElementById("silkscreenCheckbox").checked = false;
    silkscreenVisible(false);
  }
  if (readStorage("redrawOnDrag") === "false") {
    document.getElementById("dragCheckbox").checked = false;
    setRedrawOnDrag(false);
  }
}

window.onresize = resizeAll;
window.matchMedia("print").addListener(resizeAll);

///////////////////////////////////////////////

  </script>
</head>

<body>
<div id="topmostdiv" style="width: 100%; height: 100%">
  <div id="top" style="height: 78px; border-bottom: 2px solid black;">
    <div style="float: right;">
      <div class="hideonprint menu" style="float: right; margin: 10px; top: 8px;">
        <button class="menubtn"></button>
        <div class="menu-content">
          <label class="menu-label menu-label-top">
            <input id="silkscreenCheckbox" type="checkbox" checked onchange="silkscreenVisible(this.checked)">
            Show silkscreen
          </label>
          <label class="menu-label">
            <input id="dragCheckbox" type="checkbox" checked onchange="setRedrawOnDrag(this.checked)">
            Continuous redraw on drag
          </label>
          <label class="menu-label">
            <div style="margin-left: 5px">Bom checkboxes</div>
            <input id="bomCheckboxes" class="menu-textbox" type=text
                   oninput="setBomCheckboxes(this.value)">
          </label>
        </div>
      </div>
      <div class="button-container hideonprint"
           style="float: right; margin: 10px; position: relative; top: 8px">
        <button id="fl-btn" class="left-most-button" onclick="changeCanvasLayout('F')"
                title="Front only">F
        </button>
        <button id="fb-btn" class="middle-button" onclick="changeCanvasLayout('FB')"
                title="Front and Back">FB
        </button>
        <button id="bl-btn" class="right-most-button" onclick="changeCanvasLayout('B')"
                title="Back only">B
        </button>
      </div>
      <div class="button-container hideonprint"
           style="float: right; margin: 10px; position: relative; top: 8px">
        <button id="bom-btn" class="left-most-button" onclick="changeBomLayout('BOM')"
                title="BOM only"></button>
        <button id="lr-btn" class="middle-button" onclick="changeBomLayout('LR')"
                title="BOM left, drawings right"></button>
        <button id="tb-btn" class="right-most-button" onclick="changeBomLayout('TB')"
                title="BOM top, drawings bot"></button>
      </div>
    </div>
    <div id="fileinfodiv" style="overflow: auto;">
      <table class="fileinfo">
        <tbody>
          <tr>
            <td id="title" class="title" style="width: 70%">
              Title
            </td>
            <td id="revision" class="title" style="width: 30%">
              Revision
            </td>
          </tr>
          <tr>
            <td id="company">
              Kicad version
            </td>
            <td id="filedate">
              Date
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div id="bot" class="split" style="height: calc(100% - 80px)">
    <div id="bomdiv" class="split split-horizontal">
      <div style="width: 100%">
        <input class="searchbox reflookup hideonprint" type="text" placeholder="Ref lookup"
               oninput="updateRefLookup(this.value)">
        <input class="searchbox filter hideonprint" type="text" placeholder="Filter"
               oninput="updateFilter(this.value)">
      </div>
      <div id="dbg"></div>
      <table class="bom">
        <thead id="bomhead">
        </thead>
        <tbody id="bombody">
        </tbody>
      </table>
    </div>
    <div id="canvasdiv" class="split split-horizontal">
      <div id="frontcanvas" class="split" style="overflow: hidden">
        <div style="position: relative; width: 100%; height: 100%;">
          <canvas id="F_bg" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
          <canvas id="F_slk" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
          <canvas id="F_hl" style="position: absolute; left: 0; top: 0; z-index: 2;"></canvas>
        </div>
      </div>
      <div id="backcanvas" class="split" style="overflow: hidden">
        <div style="position: relative; width: 100%; height: 100%;">
          <canvas id="B_bg" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
          <canvas id="B_slk" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
          <canvas id="B_hl" style="position: absolute; left: 0; top: 0; z-index: 2;"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>
</body>

</html>
